import{t as S,a as c,c as x}from"../chunks/HCuMicKI.js";import{i as V}from"../chunks/DYo3S1L_.js";import{c as v,r as h,s as P,t as Z,p as ee,a as te,f as N,a1 as d,a2 as b,w as e,z as re}from"../chunks/AGc4v_Jp.js";import{i as I}from"../chunks/Bn46RIuP.js";import{e as ae,i as oe}from"../chunks/DXct-rb-.js";import{s as se,a as ie}from"../chunks/C7nj3rmD.js";import{o as ne}from"../chunks/v9RRueV-.js";import{g as le}from"../chunks/sVTttEIG.js";import{A as R,a as D,i as B,s as ce,L as fe,t as ge}from"../chunks/Dq-1OT2U.js";import{s as C}from"../chunks/ZMmqXR_P.js";import{p as T}from"../chunks/C77BM_1A.js";import{P as ue}from"../chunks/iFypBCzg.js";import{L as me}from"../chunks/55irrN_Q.js";var $={BACKEND_CANISTER_ID:"elbip-aiaaa-aaaal-qjfhq-cai",FRONTEND_CANISTER_ID:"gw4gh-taaaa-aaaal-qjfia-cai",DFX_NETWORK:"ic"};class de{constructor(){}async getGolfers(t){try{let o=await(await R.createIdentityActor(D,$.BACKEND_CANISTER_ID??"")).getGolfers(t);return B(o)&&console.error("Error Fetching Golfers",o),o.ok}catch(a){throw console.error("Error Fetching Golfers",a),a}}async getGolfer(t){try{let o=await(await R.createIdentityActor(D,$.BACKEND_CANISTER_ID??"")).getGolfer(t);return B(o)&&console.error("Error Fetching Golfer",o),o.ok}catch(a){throw console.error("Error Fetching Golfer",a),a}}}function pe(){async function i(t){return new de().getGolfers(t)}return{getGolfers:i}}const _e=pe();var ve=S('<div class="rounded-lg p-4 max-h-[80vh] overflow-y-auto"><header class="bg-white"><div class="flex flex-col md:flex-row justify-between items-center py-4"><h1 class="title"> </h1> <h2 class="text-BrandDarkGray text-sm md:text-base"> </h2></div></header> <!></div>');function he(i,t){let a=T(t,"title",8),o=T(t,"subTitle",8);var p=ve(),n=v(p),r=v(n),s=v(r),_=v(s,!0);h(s);var y=P(s,2),w=v(y,!0);h(y),h(r),h(n);var f=P(n,2);ce(f,t,"default",{}),h(p),Z(()=>{C(_,a()),C(w,o())}),c(i,p)}function ye(i,t){T(t,"golfer",8)}var we=S("<p>No golfers found.</p>"),Ae=S("<!> <!>",1),Ee=S("<p>Error loading golfers.</p>");function $e(i,t){ee(t,!1);const[a,o]=se(),p=()=>ie(D,"$authStore",a);let n=b(!0),r=b(null),s=b(1n),_=b(1n);ne(async()=>{w()});async function y(f){const l=Number(e(s))+f;l>=1&&l<=Number(e(_))&&(d(s,BigInt(l)),await w())}async function w(){d(n,!0);try{const l=p().identity?.getPrincipal();if(!l){le("/");return}let A={page:e(s),user_id:l.toString(),searchTerm:""};d(r,await _e.getGolfers(A)),e(r)?.total&&e(r)?.pageSize&&d(_,BigInt(Math.ceil(Number(e(r).total)/Number(e(r).pageSize))))}catch{ge.addToast({type:"error",message:"Error loading golfers."}),d(r,null)}finally{d(n,!1)}}V(),fe(i,{children:(f,l)=>{var A=x(),k=N(A);{var q=g=>{me(g)},K=g=>{he(g,{title:"GOLFERS",subTitle:"ALL GOLFPAD PLAYERS",children:(O,Ge)=>{var L=x(),j=N(L);{var z=u=>{var E=Ae(),F=N(E);{var W=m=>{var G=x(),J=N(G);ae(J,1,()=>e(r)?.entries,oe,(Q,U)=>{ye(Q,{get golfer(){return e(U)}})}),c(m,G)},X=m=>{var G=we();c(m,G)};I(F,m=>{e(r).entries.length>0?m(W):m(X,!1)})}var Y=P(F,2);const H=re(()=>Number(e(s)));ue(Y,{changePage:y,get currentPage(){return e(H)},get totalPages(){return e(_)}}),c(u,E)},M=u=>{var E=Ee();c(u,E)};I(j,u=>{e(r)?u(z):u(M,!1)})}c(O,L)},$$slots:{default:!0}})};I(k,g=>{e(n)?g(q):g(K,!1)})}c(f,A)},$$slots:{default:!0}}),te(),o()}export{$e as component};
