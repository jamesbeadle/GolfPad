import{c as Pe,g as Vs}from"./index.B1Y_2RJ4.js";var js={},Je={};Je.byteLength=Zs;Je.toByteArray=to;Je.fromByteArray=no;var ce=[],Jt=[],Xs=typeof Uint8Array<"u"?Uint8Array:Array,Yr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Re=0,Js=Yr.length;Re<Js;++Re)ce[Re]=Yr[Re],Jt[Yr.charCodeAt(Re)]=Re;Jt[45]=62;Jt[95]=63;function qi(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function Zs(e){var t=qi(e),r=t[0],i=t[1];return(r+i)*3/4-i}function Qs(e,t,r){return(t+r)*3/4-r}function to(e){var t,r=qi(e),i=r[0],u=r[1],p=new Xs(Qs(e,i,u)),y=0,c=u>0?i-4:i,E;for(E=0;E<c;E+=4)t=Jt[e.charCodeAt(E)]<<18|Jt[e.charCodeAt(E+1)]<<12|Jt[e.charCodeAt(E+2)]<<6|Jt[e.charCodeAt(E+3)],p[y++]=t>>16&255,p[y++]=t>>8&255,p[y++]=t&255;return u===2&&(t=Jt[e.charCodeAt(E)]<<2|Jt[e.charCodeAt(E+1)]>>4,p[y++]=t&255),u===1&&(t=Jt[e.charCodeAt(E)]<<10|Jt[e.charCodeAt(E+1)]<<4|Jt[e.charCodeAt(E+2)]>>2,p[y++]=t>>8&255,p[y++]=t&255),p}function eo(e){return ce[e>>18&63]+ce[e>>12&63]+ce[e>>6&63]+ce[e&63]}function ro(e,t,r){for(var i,u=[],p=t;p<r;p+=3)i=(e[p]<<16&16711680)+(e[p+1]<<8&65280)+(e[p+2]&255),u.push(eo(i));return u.join("")}function no(e){for(var t,r=e.length,i=r%3,u=[],p=16383,y=0,c=r-i;y<c;y+=p)u.push(ro(e,y,y+p>c?c:y+p));return i===1?(t=e[r-1],u.push(ce[t>>2]+ce[t<<4&63]+"==")):i===2&&(t=(e[r-2]<<8)+e[r-1],u.push(ce[t>>10]+ce[t>>4&63]+ce[t<<2&63]+"=")),u.join("")}var Ze={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ze.read=function(e,t,r,i,u){var p,y,c=u*8-i-1,E=(1<<c)-1,I=E>>1,F=-7,O=r?u-1:0,P=r?-1:1,M=e[t+O];for(O+=P,p=M&(1<<-F)-1,M>>=-F,F+=c;F>0;p=p*256+e[t+O],O+=P,F-=8);for(y=p&(1<<-F)-1,p>>=-F,F+=i;F>0;y=y*256+e[t+O],O+=P,F-=8);if(p===0)p=1-I;else{if(p===E)return y?NaN:(M?-1:1)*(1/0);y=y+Math.pow(2,i),p=p-I}return(M?-1:1)*y*Math.pow(2,p-i)};Ze.write=function(e,t,r,i,u,p){var y,c,E,I=p*8-u-1,F=(1<<I)-1,O=F>>1,P=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=i?0:p-1,rt=i?1:-1,et=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,y=F):(y=Math.floor(Math.log(t)/Math.LN2),t*(E=Math.pow(2,-y))<1&&(y--,E*=2),y+O>=1?t+=P/E:t+=P*Math.pow(2,1-O),t*E>=2&&(y++,E/=2),y+O>=F?(c=0,y=F):y+O>=1?(c=(t*E-1)*Math.pow(2,u),y=y+O):(c=t*Math.pow(2,O-1)*Math.pow(2,u),y=0));u>=8;e[r+M]=c&255,M+=rt,c/=256,u-=8);for(y=y<<u|c,I+=u;I>0;e[r+M]=y&255,M+=rt,y/=256,I-=8);e[r+M-rt]|=et*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Je,r=Ze,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=lt,e.INSPECT_MAX_BYTES=50;const u=2147483647;e.kMaxLength=u,c.TYPED_ARRAY_SUPPORT=p(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{const l=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(l,o),l.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function y(l){if(l>u)throw new RangeError('The value "'+l+'" is invalid for option "size"');const o=new Uint8Array(l);return Object.setPrototypeOf(o,c.prototype),o}function c(l,o,a){if(typeof l=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return O(l)}return E(l,o,a)}c.poolSize=8192;function E(l,o,a){if(typeof l=="string")return P(l,o);if(ArrayBuffer.isView(l))return rt(l);if(l==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(v(l,ArrayBuffer)||l&&v(l.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(v(l,SharedArrayBuffer)||l&&v(l.buffer,SharedArrayBuffer)))return et(l,o,a);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const x=l.valueOf&&l.valueOf();if(x!=null&&x!==l)return c.from(x,o,a);const T=ft(l);if(T)return T;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return c.from(l[Symbol.toPrimitive]("string"),o,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}c.from=function(l,o,a){return E(l,o,a)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function I(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function F(l,o,a){return I(l),l<=0?y(l):o!==void 0?typeof a=="string"?y(l).fill(o,a):y(l).fill(o):y(l)}c.alloc=function(l,o,a){return F(l,o,a)};function O(l){return I(l),y(l<0?0:Tt(l)|0)}c.allocUnsafe=function(l){return O(l)},c.allocUnsafeSlow=function(l){return O(l)};function P(l,o){if((typeof o!="string"||o==="")&&(o="utf8"),!c.isEncoding(o))throw new TypeError("Unknown encoding: "+o);const a=Q(l,o)|0;let x=y(a);const T=x.write(l,o);return T!==a&&(x=x.slice(0,T)),x}function M(l){const o=l.length<0?0:Tt(l.length)|0,a=y(o);for(let x=0;x<o;x+=1)a[x]=l[x]&255;return a}function rt(l){if(v(l,Uint8Array)){const o=new Uint8Array(l);return et(o.buffer,o.byteOffset,o.byteLength)}return M(l)}function et(l,o,a){if(o<0||l.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<o+(a||0))throw new RangeError('"length" is outside of buffer bounds');let x;return o===void 0&&a===void 0?x=new Uint8Array(l):a===void 0?x=new Uint8Array(l,o):x=new Uint8Array(l,o,a),Object.setPrototypeOf(x,c.prototype),x}function ft(l){if(c.isBuffer(l)){const o=Tt(l.length)|0,a=y(o);return a.length===0||l.copy(a,0,0,o),a}if(l.length!==void 0)return typeof l.length!="number"||D(l.length)?y(0):M(l);if(l.type==="Buffer"&&Array.isArray(l.data))return M(l.data)}function Tt(l){if(l>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return l|0}function lt(l){return+l!=l&&(l=0),c.alloc(+l)}c.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==c.prototype},c.compare=function(o,a){if(v(o,Uint8Array)&&(o=c.from(o,o.offset,o.byteLength)),v(a,Uint8Array)&&(a=c.from(a,a.offset,a.byteLength)),!c.isBuffer(o)||!c.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===a)return 0;let x=o.length,T=a.length;for(let L=0,R=Math.min(x,T);L<R;++L)if(o[L]!==a[L]){x=o[L],T=a[L];break}return x<T?-1:T<x?1:0},c.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(o,a){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return c.alloc(0);let x;if(a===void 0)for(a=0,x=0;x<o.length;++x)a+=o[x].length;const T=c.allocUnsafe(a);let L=0;for(x=0;x<o.length;++x){let R=o[x];if(v(R,Uint8Array))L+R.length>T.length?(c.isBuffer(R)||(R=c.from(R)),R.copy(T,L)):Uint8Array.prototype.set.call(T,R,L);else if(c.isBuffer(R))R.copy(T,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=R.length}return T};function Q(l,o){if(c.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||v(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);const a=l.length,x=arguments.length>2&&arguments[2]===!0;if(!x&&a===0)return 0;let T=!1;for(;;)switch(o){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return n(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return g(l).length;default:if(T)return x?-1:n(l).length;o=(""+o).toLowerCase(),T=!0}}c.byteLength=Q;function Bt(l,o,a){let x=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,o>>>=0,a<=o))return"";for(l||(l="utf8");;)switch(l){case"hex":return k(this,o,a);case"utf8":case"utf-8":return Ut(this,o,a);case"ascii":return Ot(this,o,a);case"latin1":case"binary":return K(this,o,a);case"base64":return dt(this,o,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,o,a);default:if(x)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),x=!0}}c.prototype._isBuffer=!0;function X(l,o,a){const x=l[o];l[o]=l[a],l[a]=x}c.prototype.swap16=function(){const o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<o;a+=2)X(this,a,a+1);return this},c.prototype.swap32=function(){const o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<o;a+=4)X(this,a,a+3),X(this,a+1,a+2);return this},c.prototype.swap64=function(){const o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<o;a+=8)X(this,a,a+7),X(this,a+1,a+6),X(this,a+2,a+5),X(this,a+3,a+4);return this},c.prototype.toString=function(){const o=this.length;return o===0?"":arguments.length===0?Ut(this,0,o):Bt.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(o){if(!c.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:c.compare(this,o)===0},c.prototype.inspect=function(){let o="";const a=e.INSPECT_MAX_BYTES;return o=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(o+=" ... "),"<Buffer "+o+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(o,a,x,T,L){if(v(o,Uint8Array)&&(o=c.from(o,o.offset,o.byteLength)),!c.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(a===void 0&&(a=0),x===void 0&&(x=o?o.length:0),T===void 0&&(T=0),L===void 0&&(L=this.length),a<0||x>o.length||T<0||L>this.length)throw new RangeError("out of range index");if(T>=L&&a>=x)return 0;if(T>=L)return-1;if(a>=x)return 1;if(a>>>=0,x>>>=0,T>>>=0,L>>>=0,this===o)return 0;let R=L-T,nt=x-a;const xt=Math.min(R,nt),at=this.slice(T,L),st=o.slice(a,x);for(let It=0;It<xt;++It)if(at[It]!==st[It]){R=at[It],nt=st[It];break}return R<nt?-1:nt<R?1:0};function J(l,o,a,x,T){if(l.length===0)return-1;if(typeof a=="string"?(x=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,D(a)&&(a=T?0:l.length-1),a<0&&(a=l.length+a),a>=l.length){if(T)return-1;a=l.length-1}else if(a<0)if(T)a=0;else return-1;if(typeof o=="string"&&(o=c.from(o,x)),c.isBuffer(o))return o.length===0?-1:Z(l,o,a,x,T);if(typeof o=="number")return o=o&255,typeof Uint8Array.prototype.indexOf=="function"?T?Uint8Array.prototype.indexOf.call(l,o,a):Uint8Array.prototype.lastIndexOf.call(l,o,a):Z(l,[o],a,x,T);throw new TypeError("val must be string, number or Buffer")}function Z(l,o,a,x,T){let L=1,R=l.length,nt=o.length;if(x!==void 0&&(x=String(x).toLowerCase(),x==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(l.length<2||o.length<2)return-1;L=2,R/=2,nt/=2,a/=2}function xt(st,It){return L===1?st[It]:st.readUInt16BE(It*L)}let at;if(T){let st=-1;for(at=a;at<R;at++)if(xt(l,at)===xt(o,st===-1?0:at-st)){if(st===-1&&(st=at),at-st+1===nt)return st*L}else st!==-1&&(at-=at-st),st=-1}else for(a+nt>R&&(a=R-nt),at=a;at>=0;at--){let st=!0;for(let It=0;It<nt;It++)if(xt(l,at+It)!==xt(o,It)){st=!1;break}if(st)return at}return-1}c.prototype.includes=function(o,a,x){return this.indexOf(o,a,x)!==-1},c.prototype.indexOf=function(o,a,x){return J(this,o,a,x,!0)},c.prototype.lastIndexOf=function(o,a,x){return J(this,o,a,x,!1)};function ut(l,o,a,x){a=Number(a)||0;const T=l.length-a;x?(x=Number(x),x>T&&(x=T)):x=T;const L=o.length;x>L/2&&(x=L/2);let R;for(R=0;R<x;++R){const nt=parseInt(o.substr(R*2,2),16);if(D(nt))return R;l[a+R]=nt}return R}function gt(l,o,a,x){return b(n(o,l.length-a),l,a,x)}function C(l,o,a,x){return b(s(o),l,a,x)}function _t(l,o,a,x){return b(g(o),l,a,x)}function mt(l,o,a,x){return b(h(o,l.length-a),l,a,x)}c.prototype.write=function(o,a,x,T){if(a===void 0)T="utf8",x=this.length,a=0;else if(x===void 0&&typeof a=="string")T=a,x=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(x)?(x=x>>>0,T===void 0&&(T="utf8")):(T=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const L=this.length-a;if((x===void 0||x>L)&&(x=L),o.length>0&&(x<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");let R=!1;for(;;)switch(T){case"hex":return ut(this,o,a,x);case"utf8":case"utf-8":return gt(this,o,a,x);case"ascii":case"latin1":case"binary":return C(this,o,a,x);case"base64":return _t(this,o,a,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt(this,o,a,x);default:if(R)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),R=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function dt(l,o,a){return o===0&&a===l.length?t.fromByteArray(l):t.fromByteArray(l.slice(o,a))}function Ut(l,o,a){a=Math.min(l.length,a);const x=[];let T=o;for(;T<a;){const L=l[T];let R=null,nt=L>239?4:L>223?3:L>191?2:1;if(T+nt<=a){let xt,at,st,It;switch(nt){case 1:L<128&&(R=L);break;case 2:xt=l[T+1],(xt&192)===128&&(It=(L&31)<<6|xt&63,It>127&&(R=It));break;case 3:xt=l[T+1],at=l[T+2],(xt&192)===128&&(at&192)===128&&(It=(L&15)<<12|(xt&63)<<6|at&63,It>2047&&(It<55296||It>57343)&&(R=It));break;case 4:xt=l[T+1],at=l[T+2],st=l[T+3],(xt&192)===128&&(at&192)===128&&(st&192)===128&&(It=(L&15)<<18|(xt&63)<<12|(at&63)<<6|st&63,It>65535&&It<1114112&&(R=It))}}R===null?(R=65533,nt=1):R>65535&&(R-=65536,x.push(R>>>10&1023|55296),R=56320|R&1023),x.push(R),T+=nt}return zt(x)}const St=4096;function zt(l){const o=l.length;if(o<=St)return String.fromCharCode.apply(String,l);let a="",x=0;for(;x<o;)a+=String.fromCharCode.apply(String,l.slice(x,x+=St));return a}function Ot(l,o,a){let x="";a=Math.min(l.length,a);for(let T=o;T<a;++T)x+=String.fromCharCode(l[T]&127);return x}function K(l,o,a){let x="";a=Math.min(l.length,a);for(let T=o;T<a;++T)x+=String.fromCharCode(l[T]);return x}function k(l,o,a){const x=l.length;(!o||o<0)&&(o=0),(!a||a<0||a>x)&&(a=x);let T="";for(let L=o;L<a;++L)T+=q[l[L]];return T}function Y(l,o,a){const x=l.slice(o,a);let T="";for(let L=0;L<x.length-1;L+=2)T+=String.fromCharCode(x[L]+x[L+1]*256);return T}c.prototype.slice=function(o,a){const x=this.length;o=~~o,a=a===void 0?x:~~a,o<0?(o+=x,o<0&&(o=0)):o>x&&(o=x),a<0?(a+=x,a<0&&(a=0)):a>x&&(a=x),a<o&&(a=o);const T=this.subarray(o,a);return Object.setPrototypeOf(T,c.prototype),T};function z(l,o,a){if(l%1!==0||l<0)throw new RangeError("offset is not uint");if(l+o>a)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(o,a,x){o=o>>>0,a=a>>>0,x||z(o,a,this.length);let T=this[o],L=1,R=0;for(;++R<a&&(L*=256);)T+=this[o+R]*L;return T},c.prototype.readUintBE=c.prototype.readUIntBE=function(o,a,x){o=o>>>0,a=a>>>0,x||z(o,a,this.length);let T=this[o+--a],L=1;for(;a>0&&(L*=256);)T+=this[o+--a]*L;return T},c.prototype.readUint8=c.prototype.readUInt8=function(o,a){return o=o>>>0,a||z(o,1,this.length),this[o]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(o,a){return o=o>>>0,a||z(o,2,this.length),this[o]|this[o+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(o,a){return o=o>>>0,a||z(o,2,this.length),this[o]<<8|this[o+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(o,a){return o=o>>>0,a||z(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(o,a){return o=o>>>0,a||z(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},c.prototype.readBigUInt64LE=j(function(o){o=o>>>0,N(o,"offset");const a=this[o],x=this[o+7];(a===void 0||x===void 0)&&S(o,this.length-8);const T=a+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,L=this[++o]+this[++o]*2**8+this[++o]*2**16+x*2**24;return BigInt(T)+(BigInt(L)<<BigInt(32))}),c.prototype.readBigUInt64BE=j(function(o){o=o>>>0,N(o,"offset");const a=this[o],x=this[o+7];(a===void 0||x===void 0)&&S(o,this.length-8);const T=a*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],L=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+x;return(BigInt(T)<<BigInt(32))+BigInt(L)}),c.prototype.readIntLE=function(o,a,x){o=o>>>0,a=a>>>0,x||z(o,a,this.length);let T=this[o],L=1,R=0;for(;++R<a&&(L*=256);)T+=this[o+R]*L;return L*=128,T>=L&&(T-=Math.pow(2,8*a)),T},c.prototype.readIntBE=function(o,a,x){o=o>>>0,a=a>>>0,x||z(o,a,this.length);let T=a,L=1,R=this[o+--T];for(;T>0&&(L*=256);)R+=this[o+--T]*L;return L*=128,R>=L&&(R-=Math.pow(2,8*a)),R},c.prototype.readInt8=function(o,a){return o=o>>>0,a||z(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},c.prototype.readInt16LE=function(o,a){o=o>>>0,a||z(o,2,this.length);const x=this[o]|this[o+1]<<8;return x&32768?x|4294901760:x},c.prototype.readInt16BE=function(o,a){o=o>>>0,a||z(o,2,this.length);const x=this[o+1]|this[o]<<8;return x&32768?x|4294901760:x},c.prototype.readInt32LE=function(o,a){return o=o>>>0,a||z(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},c.prototype.readInt32BE=function(o,a){return o=o>>>0,a||z(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},c.prototype.readBigInt64LE=j(function(o){o=o>>>0,N(o,"offset");const a=this[o],x=this[o+7];(a===void 0||x===void 0)&&S(o,this.length-8);const T=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(x<<24);return(BigInt(T)<<BigInt(32))+BigInt(a+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24)}),c.prototype.readBigInt64BE=j(function(o){o=o>>>0,N(o,"offset");const a=this[o],x=this[o+7];(a===void 0||x===void 0)&&S(o,this.length-8);const T=(a<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(T)<<BigInt(32))+BigInt(this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+x)}),c.prototype.readFloatLE=function(o,a){return o=o>>>0,a||z(o,4,this.length),r.read(this,o,!0,23,4)},c.prototype.readFloatBE=function(o,a){return o=o>>>0,a||z(o,4,this.length),r.read(this,o,!1,23,4)},c.prototype.readDoubleLE=function(o,a){return o=o>>>0,a||z(o,8,this.length),r.read(this,o,!0,52,8)},c.prototype.readDoubleBE=function(o,a){return o=o>>>0,a||z(o,8,this.length),r.read(this,o,!1,52,8)};function H(l,o,a,x,T,L){if(!c.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>T||o<L)throw new RangeError('"value" argument is out of bounds');if(a+x>l.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(o,a,x,T){if(o=+o,a=a>>>0,x=x>>>0,!T){const nt=Math.pow(2,8*x)-1;H(this,o,a,x,nt,0)}let L=1,R=0;for(this[a]=o&255;++R<x&&(L*=256);)this[a+R]=o/L&255;return a+x},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(o,a,x,T){if(o=+o,a=a>>>0,x=x>>>0,!T){const nt=Math.pow(2,8*x)-1;H(this,o,a,x,nt,0)}let L=x-1,R=1;for(this[a+L]=o&255;--L>=0&&(R*=256);)this[a+L]=o/R&255;return a+x},c.prototype.writeUint8=c.prototype.writeUInt8=function(o,a,x){return o=+o,a=a>>>0,x||H(this,o,a,1,255,0),this[a]=o&255,a+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(o,a,x){return o=+o,a=a>>>0,x||H(this,o,a,2,65535,0),this[a]=o&255,this[a+1]=o>>>8,a+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(o,a,x){return o=+o,a=a>>>0,x||H(this,o,a,2,65535,0),this[a]=o>>>8,this[a+1]=o&255,a+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(o,a,x){return o=+o,a=a>>>0,x||H(this,o,a,4,4294967295,0),this[a+3]=o>>>24,this[a+2]=o>>>16,this[a+1]=o>>>8,this[a]=o&255,a+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(o,a,x){return o=+o,a=a>>>0,x||H(this,o,a,4,4294967295,0),this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=o&255,a+4};function ht(l,o,a,x,T){_(o,x,T,l,a,7);let L=Number(o&BigInt(4294967295));l[a++]=L,L=L>>8,l[a++]=L,L=L>>8,l[a++]=L,L=L>>8,l[a++]=L;let R=Number(o>>BigInt(32)&BigInt(4294967295));return l[a++]=R,R=R>>8,l[a++]=R,R=R>>8,l[a++]=R,R=R>>8,l[a++]=R,a}function d(l,o,a,x,T){_(o,x,T,l,a,7);let L=Number(o&BigInt(4294967295));l[a+7]=L,L=L>>8,l[a+6]=L,L=L>>8,l[a+5]=L,L=L>>8,l[a+4]=L;let R=Number(o>>BigInt(32)&BigInt(4294967295));return l[a+3]=R,R=R>>8,l[a+2]=R,R=R>>8,l[a+1]=R,R=R>>8,l[a]=R,a+8}c.prototype.writeBigUInt64LE=j(function(o,a=0){return ht(this,o,a,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=j(function(o,a=0){return d(this,o,a,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(o,a,x,T){if(o=+o,a=a>>>0,!T){const xt=Math.pow(2,8*x-1);H(this,o,a,x,xt-1,-xt)}let L=0,R=1,nt=0;for(this[a]=o&255;++L<x&&(R*=256);)o<0&&nt===0&&this[a+L-1]!==0&&(nt=1),this[a+L]=(o/R>>0)-nt&255;return a+x},c.prototype.writeIntBE=function(o,a,x,T){if(o=+o,a=a>>>0,!T){const xt=Math.pow(2,8*x-1);H(this,o,a,x,xt-1,-xt)}let L=x-1,R=1,nt=0;for(this[a+L]=o&255;--L>=0&&(R*=256);)o<0&&nt===0&&this[a+L+1]!==0&&(nt=1),this[a+L]=(o/R>>0)-nt&255;return a+x},c.prototype.writeInt8=function(o,a,x){return o=+o,a=a>>>0,x||H(this,o,a,1,127,-128),o<0&&(o=255+o+1),this[a]=o&255,a+1},c.prototype.writeInt16LE=function(o,a,x){return o=+o,a=a>>>0,x||H(this,o,a,2,32767,-32768),this[a]=o&255,this[a+1]=o>>>8,a+2},c.prototype.writeInt16BE=function(o,a,x){return o=+o,a=a>>>0,x||H(this,o,a,2,32767,-32768),this[a]=o>>>8,this[a+1]=o&255,a+2},c.prototype.writeInt32LE=function(o,a,x){return o=+o,a=a>>>0,x||H(this,o,a,4,2147483647,-2147483648),this[a]=o&255,this[a+1]=o>>>8,this[a+2]=o>>>16,this[a+3]=o>>>24,a+4},c.prototype.writeInt32BE=function(o,a,x){return o=+o,a=a>>>0,x||H(this,o,a,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=o&255,a+4},c.prototype.writeBigInt64LE=j(function(o,a=0){return ht(this,o,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=j(function(o,a=0){return d(this,o,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function wt(l,o,a,x,T,L){if(a+x>l.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function pt(l,o,a,x,T){return o=+o,a=a>>>0,T||wt(l,o,a,4),r.write(l,o,a,x,23,4),a+4}c.prototype.writeFloatLE=function(o,a,x){return pt(this,o,a,!0,x)},c.prototype.writeFloatBE=function(o,a,x){return pt(this,o,a,!1,x)};function bt(l,o,a,x,T){return o=+o,a=a>>>0,T||wt(l,o,a,8),r.write(l,o,a,x,52,8),a+8}c.prototype.writeDoubleLE=function(o,a,x){return bt(this,o,a,!0,x)},c.prototype.writeDoubleBE=function(o,a,x){return bt(this,o,a,!1,x)},c.prototype.copy=function(o,a,x,T){if(!c.isBuffer(o))throw new TypeError("argument should be a Buffer");if(x||(x=0),!T&&T!==0&&(T=this.length),a>=o.length&&(a=o.length),a||(a=0),T>0&&T<x&&(T=x),T===x||o.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),o.length-a<T-x&&(T=o.length-a+x);const L=T-x;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,x,T):Uint8Array.prototype.set.call(o,this.subarray(x,T),a),L},c.prototype.fill=function(o,a,x,T){if(typeof o=="string"){if(typeof a=="string"?(T=a,a=0,x=this.length):typeof x=="string"&&(T=x,x=this.length),T!==void 0&&typeof T!="string")throw new TypeError("encoding must be a string");if(typeof T=="string"&&!c.isEncoding(T))throw new TypeError("Unknown encoding: "+T);if(o.length===1){const R=o.charCodeAt(0);(T==="utf8"&&R<128||T==="latin1")&&(o=R)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(a<0||this.length<a||this.length<x)throw new RangeError("Out of range index");if(x<=a)return this;a=a>>>0,x=x===void 0?this.length:x>>>0,o||(o=0);let L;if(typeof o=="number")for(L=a;L<x;++L)this[L]=o;else{const R=c.isBuffer(o)?o:c.from(o,T),nt=R.length;if(nt===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(L=0;L<x-a;++L)this[L+a]=R[L%nt]}return this};const W={};function V(l,o,a){W[l]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:o.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${l}]`,this.stack,delete this.name}get code(){return l}set code(T){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:T,writable:!0})}toString(){return`${this.name} [${l}]: ${this.message}`}}}V("ERR_BUFFER_OUT_OF_BOUNDS",function(l){return l?`${l} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),V("ERR_INVALID_ARG_TYPE",function(l,o){return`The "${l}" argument must be of type number. Received type ${typeof o}`},TypeError),V("ERR_OUT_OF_RANGE",function(l,o,a){let x=`The value of "${l}" is out of range.`,T=a;return Number.isInteger(a)&&Math.abs(a)>2**32?T=w(String(a)):typeof a=="bigint"&&(T=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(T=w(T)),T+="n"),x+=` It must be ${o}. Received ${T}`,x},RangeError);function w(l){let o="",a=l.length;const x=l[0]==="-"?1:0;for(;a>=x+4;a-=3)o=`_${l.slice(a-3,a)}${o}`;return`${l.slice(0,a)}${o}`}function m(l,o,a){N(o,"offset"),(l[o]===void 0||l[o+a]===void 0)&&S(o,l.length-(a+1))}function _(l,o,a,x,T,L){if(l>a||l<o){const R=typeof o=="bigint"?"n":"";let nt;throw o===0||o===BigInt(0)?nt=`>= 0${R} and < 2${R} ** ${(L+1)*8}${R}`:nt=`>= -(2${R} ** ${(L+1)*8-1}${R}) and < 2 ** ${(L+1)*8-1}${R}`,new W.ERR_OUT_OF_RANGE("value",nt,l)}m(x,T,L)}function N(l,o){if(typeof l!="number")throw new W.ERR_INVALID_ARG_TYPE(o,"number",l)}function S(l,o,a){throw Math.floor(l)!==l?(N(l,a),new W.ERR_OUT_OF_RANGE("offset","an integer",l)):o<0?new W.ERR_BUFFER_OUT_OF_BOUNDS:new W.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${o}`,l)}const U=/[^+/0-9A-Za-z-_]/g;function f(l){if(l=l.split("=")[0],l=l.trim().replace(U,""),l.length<2)return"";for(;l.length%4!==0;)l=l+"=";return l}function n(l,o){o=o||1/0;let a;const x=l.length;let T=null;const L=[];for(let R=0;R<x;++R){if(a=l.charCodeAt(R),a>55295&&a<57344){if(!T){if(a>56319){(o-=3)>-1&&L.push(239,191,189);continue}else if(R+1===x){(o-=3)>-1&&L.push(239,191,189);continue}T=a;continue}if(a<56320){(o-=3)>-1&&L.push(239,191,189),T=a;continue}a=(T-55296<<10|a-56320)+65536}else T&&(o-=3)>-1&&L.push(239,191,189);if(T=null,a<128){if((o-=1)<0)break;L.push(a)}else if(a<2048){if((o-=2)<0)break;L.push(a>>6|192,a&63|128)}else if(a<65536){if((o-=3)<0)break;L.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((o-=4)<0)break;L.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return L}function s(l){const o=[];for(let a=0;a<l.length;++a)o.push(l.charCodeAt(a)&255);return o}function h(l,o){let a,x,T;const L=[];for(let R=0;R<l.length&&!((o-=2)<0);++R)a=l.charCodeAt(R),x=a>>8,T=a%256,L.push(T),L.push(x);return L}function g(l){return t.toByteArray(f(l))}function b(l,o,a,x){let T;for(T=0;T<x&&!(T+a>=o.length||T>=l.length);++T)o[T+a]=l[T];return T}function v(l,o){return l instanceof o||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===o.name}function D(l){return l!==l}const q=function(){const l="0123456789abcdef",o=new Array(256);for(let a=0;a<16;++a){const x=a*16;for(let T=0;T<16;++T)o[x+T]=l[a]+l[T]}return o}();function j(l){return typeof BigInt>"u"?ot:l}function ot(){throw new Error("BigInt not supported")}})(js);const io=-1,so=-2,oo=-3,ao=-4,uo=-5,co=-6;function Wc(e,t){if(typeof e=="number")return u(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const r=e,i=Array(r.length);function u(p,y=!1){if(p===io)return;if(p===oo)return NaN;if(p===ao)return 1/0;if(p===uo)return-1/0;if(p===co)return-0;if(y)throw new Error("Invalid input");if(p in i)return i[p];const c=r[p];if(!c||typeof c!="object")i[p]=c;else if(Array.isArray(c))if(typeof c[0]=="string"){const E=c[0],I=t?.[E];if(I)return i[p]=I(u(c[1]));switch(E){case"Date":i[p]=new Date(c[1]);break;case"Set":const F=new Set;i[p]=F;for(let M=1;M<c.length;M+=1)F.add(u(c[M]));break;case"Map":const O=new Map;i[p]=O;for(let M=1;M<c.length;M+=2)O.set(u(c[M]),u(c[M+1]));break;case"RegExp":i[p]=new RegExp(c[1],c[2]);break;case"Object":i[p]=Object(c[1]);break;case"BigInt":i[p]=BigInt(c[1]);break;case"null":const P=Object.create(null);i[p]=P;for(let M=1;M<c.length;M+=2)P[c[M]]=u(c[M+1]);break;default:throw new Error(`Unknown type ${E}`)}}else{const E=new Array(c.length);i[p]=E;for(let I=0;I<c.length;I+=1){const F=c[I];F!==so&&(E[I]=u(F))}}else{const E={};i[p]=E;for(const I in c){const F=c[I];E[I]=u(F)}}return i[p]}return u(0)}var ei;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(ei||(ei={}));const Sr="abcdefghijklmnopqrstuvwxyz234567",ke=Object.create(null);for(let e=0;e<Sr.length;e++)ke[Sr[e]]=e;ke[0]=ke.o;ke[1]=ke.i;function fo(e){let t=0,r=0,i="";function u(p){return t<0?r|=p>>-t:r=p<<t&248,t>3?(t-=8,1):(t<4&&(i+=Sr[r>>3],t+=5),0)}for(let p=0;p<e.length;)p+=u(e[p]);return i+(t<0?Sr[r>>3]:"")}function lo(e){let t=0,r=0;const i=new Uint8Array(e.length*4/3|0);let u=0;function p(y){let c=ke[y.toLowerCase()];if(c===void 0)throw new Error(`Invalid character: ${JSON.stringify(y)}`);c<<=3,r|=c>>>t,t+=5,t>=8&&(i[u++]=r,t-=8,t>0?r=c<<5-t&255:r=0)}for(const y of e)p(y);return i.slice(0,u)}const ho=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function po(e){const t=new Uint8Array(e);let r=-1;for(let i=0;i<t.length;i++){const p=(t[i]^r)&255;r=ho[p]^r>>>8}return(r^-1)>>>0}function go(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Un(e,...t){if(!go(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function ri(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function wo(e,t){Un(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Kr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),oe=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Vi(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ji(e){return typeof e=="string"&&(e=Vi(e)),Un(e),e}function yo(...e){let t=0;for(let i=0;i<e.length;i++){const u=e[i];Un(u),t+=u.length}const r=new Uint8Array(t);for(let i=0,u=0;i<e.length;i++){const p=e[i];r.set(p,u),u+=p.length}return r}class mo{clone(){return this._cloneInto()}}function Fn(e){const t=i=>e().update(ji(i)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function xo(e=32){if(Kr&&typeof Kr.getRandomValues=="function")return Kr.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Eo(e,t,r,i){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,i);const u=BigInt(32),p=BigInt(4294967295),y=Number(r>>u&p),c=Number(r&p),E=i?4:0,I=i?0:4;e.setUint32(t+E,y,i),e.setUint32(t+I,c,i)}const _o=(e,t,r)=>e&t^~e&r,bo=(e,t,r)=>e&t^e&r^t&r;class Xi extends mo{constructor(t,r,i,u){super(),this.blockLen=t,this.outputLen=r,this.padOffset=i,this.isLE=u,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=qr(this.buffer)}update(t){ri(this);const{view:r,buffer:i,blockLen:u}=this;t=ji(t);const p=t.length;for(let y=0;y<p;){const c=Math.min(u-this.pos,p-y);if(c===u){const E=qr(t);for(;u<=p-y;y+=u)this.process(E,y);continue}i.set(t.subarray(y,y+c),this.pos),this.pos+=c,y+=c,this.pos===u&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ri(this),wo(t,this),this.finished=!0;const{buffer:r,view:i,blockLen:u,isLE:p}=this;let{pos:y}=this;r[y++]=128,this.buffer.subarray(y).fill(0),this.padOffset>u-y&&(this.process(i,0),y=0);for(let O=y;O<u;O++)r[O]=0;Eo(i,u-8,BigInt(this.length*8),p),this.process(i,0);const c=qr(t),E=this.outputLen;if(E%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const I=E/4,F=this.get();if(I>F.length)throw new Error("_sha2: outputLen bigger than state");for(let O=0;O<I;O++)c.setUint32(4*O,F[O],p)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const i=t.slice(0,r);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:i,length:u,finished:p,destroyed:y,pos:c}=this;return t.length=u,t.pos=c,t.finished=p,t.destroyed=y,u%r&&t.buffer.set(i),t}}const Ao=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),we=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ye=new Uint32Array(64);class Ji extends Xi{constructor(){super(64,32,8,!1),this.A=we[0]|0,this.B=we[1]|0,this.C=we[2]|0,this.D=we[3]|0,this.E=we[4]|0,this.F=we[5]|0,this.G=we[6]|0,this.H=we[7]|0}get(){const{A:t,B:r,C:i,D:u,E:p,F:y,G:c,H:E}=this;return[t,r,i,u,p,y,c,E]}set(t,r,i,u,p,y,c,E){this.A=t|0,this.B=r|0,this.C=i|0,this.D=u|0,this.E=p|0,this.F=y|0,this.G=c|0,this.H=E|0}process(t,r){for(let O=0;O<16;O++,r+=4)ye[O]=t.getUint32(r,!1);for(let O=16;O<64;O++){const P=ye[O-15],M=ye[O-2],rt=oe(P,7)^oe(P,18)^P>>>3,et=oe(M,17)^oe(M,19)^M>>>10;ye[O]=et+ye[O-7]+rt+ye[O-16]|0}let{A:i,B:u,C:p,D:y,E:c,F:E,G:I,H:F}=this;for(let O=0;O<64;O++){const P=oe(c,6)^oe(c,11)^oe(c,25),M=F+P+_o(c,E,I)+Ao[O]+ye[O]|0,et=(oe(i,2)^oe(i,13)^oe(i,22))+bo(i,u,p)|0;F=I,I=E,E=c,c=y+M|0,y=p,p=u,u=i,i=M+et|0}i=i+this.A|0,u=u+this.B|0,p=p+this.C|0,y=y+this.D|0,c=c+this.E|0,E=E+this.F|0,I=I+this.G|0,F=F+this.H|0,this.set(i,u,p,y,c,E,I,F)}roundClean(){ye.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Io extends Ji{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const To=Fn(()=>new Ji),So=Fn(()=>new Io);function Bo(e){return So.create().update(new Uint8Array(e)).digest()}const lr="__principal__",No=2,ni=4,Uo="aaaaa-aa",Fo=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(r=>parseInt(r,16)))},vo=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"");class Se{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([ni]))}static managementCanister(){return this.fromHex(Uo)}static selfAuthenticating(t){const r=Bo(t);return new this(new Uint8Array([...r,No]))}static from(t){if(typeof t=="string")return Se.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new Se(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new Se(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(Fo(t))}static fromText(t){let r=t;if(t.includes(lr)){const y=JSON.parse(t);lr in y&&(r=y[lr])}const i=r.toLowerCase().replace(/-/g,"");let u=lo(i);u=u.slice(4,u.length);const p=new this(u);if(p.toText()!==r)throw new Error(`Principal "${p.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return p}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===ni}toUint8Array(){return this._arr}toHex(){return vo(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,po(this._arr));const i=new Uint8Array(t),u=Uint8Array.from(this._arr),p=new Uint8Array([...i,...u]),c=fo(p).match(/.{1,5}/g);if(!c)throw new Error;return c.join("-")}toString(){return this.toText()}toJSON(){return{[lr]:this.toText()}}compareTo(t){for(let r=0;r<Math.min(this._arr.length,t._arr.length);r++){if(this._arr[r]<t._arr[r])return"lt";if(this._arr[r]>t._arr[r])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const r=this.compareTo(t);return r=="lt"||r=="eq"}gtEq(t){const r=this.compareTo(t);return r=="gt"||r=="eq"}}class vn{constructor(t,r=t?.byteLength||0){this._buffer=hn(t||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,r)}get buffer(){return hn(this._view.slice())}get byteLength(){return this._view.byteLength}read(t){const r=this._view.subarray(0,t);return this._view=this._view.subarray(t),r.slice().buffer}readUint8(){const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){const r=new Uint8Array(t),i=this._view.byteLength;this._view.byteOffset+this._view.byteLength+r.byteLength>=this._buffer.byteLength?this.alloc(r.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+r.byteLength),this._view.set(r,i)}get end(){return this._view.byteLength===0}alloc(t){const r=new ArrayBuffer((this._buffer.byteLength+t)*1.2|0),i=new Uint8Array(r,0,this._view.byteLength+t);i.set(this._view),this._buffer=r,this._view=i}}function Vr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function hn(e){return e instanceof Uint8Array?Vr(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Vr(new Uint8Array(e)):"buffer"in e?hn(e.buffer):Vr(new Uint8Array(e))}function Zi(){throw new Error("unexpected end of buffer")}function Ro(e,t){return e.byteLength<t&&Zi(),e.read(t)}function ii(e){const t=e.readUint8();return t===void 0&&Zi(),t}function si(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new vn(new ArrayBuffer(t),0);for(;;){const i=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){r.write(new Uint8Array([i]));break}else r.write(new Uint8Array([i|128]))}return r.buffer}function Rn(e){typeof e=="number"&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,i=new vn(new ArrayBuffer(r),0);for(;;){const p=u(e);if(e/=BigInt(128),t&&e===BigInt(0)&&p&64||!t&&e===BigInt(0)&&!(p&64)){i.write(new Uint8Array([p]));break}else i.write(new Uint8Array([p|128]))}function u(p){const y=p%BigInt(128);return Number(t?BigInt(128)-y-BigInt(1):y)}return i.buffer}function Lo(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return Qi(e,t)}function Qi(e,t){e=BigInt(e);const r=new vn(new ArrayBuffer(Math.min(1,t)),0);let i=0,u=BigInt(256),p=BigInt(0),y=Number(e%u);for(r.write(new Uint8Array([y]));++i<t;)e<0&&p===BigInt(0)&&y!==0&&(p=BigInt(1)),y=Number((e/u-p)%BigInt(256)),r.write(new Uint8Array([y])),u*=BigInt(256);return r.buffer}function ts(e,t){let r=BigInt(ii(e)),i=BigInt(1),u=0;for(;++u<t;){i*=BigInt(256);const p=BigInt(ii(e));r=r+i*p}return r}function Oo(e,t){let r=ts(e,t);const i=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=i&&(r-=i*BigInt(2)),r}function pn(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}const oi=400;class es{display(){return this.name}valueToString(t){return Qe(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}}class Ln extends es{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class Do extends es{checkType(t){if(t instanceof Or){const r=t.getType();if(typeof r>"u")throw new Error("type mismatch with uninitialized type");return r}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class rs extends Ln{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,r){return t.visitFloat(this,r)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${Qe(t)}`)}encodeValue(t){const r=new ArrayBuffer(this._bits/8),i=new DataView(r);return this._bits===32?i.setFloat32(0,t,!0):i.setFloat64(0,t,!0),r}encodeType(){const t=this._bits===32?-13:-14;return Rn(t)}decodeValue(t,r){this.checkType(r);const i=Ro(t,this._bits/8),u=new DataView(i);return this._bits===32?u.getFloat32(0,!0):u.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class Rr extends Ln{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedInt(this,r)}covariant(t){const r=pn(this._bits-1)*BigInt(-1),i=pn(this._bits-1)-BigInt(1);let u=!1;if(typeof t=="bigint")u=t>=r&&t<=i;else if(Number.isInteger(t)){const p=BigInt(t);u=p>=r&&p<=i}else u=!1;if(u)return!0;throw new Error(`Invalid ${this.display()} argument: ${Qe(t)}`)}encodeValue(t){return Qi(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return Rn(-9-t)}decodeValue(t,r){this.checkType(r);const i=Oo(t,this._bits/8);return this._bits<=32?Number(i):i}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class Lr extends Ln{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedNat(this,r)}covariant(t){const r=pn(this._bits);let i=!1;if(typeof t=="bigint"&&t>=BigInt(0)?i=t<r:Number.isInteger(t)&&t>=0?i=BigInt(t)<r:i=!1,i)return!0;throw new Error(`Invalid ${this.display()} argument: ${Qe(t)}`)}encodeValue(t){return Lo(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return Rn(-5-t)}decodeValue(t,r){this.checkType(r);const i=ts(t,this._bits/8);return this._bits<=32?Number(i):i}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class Or extends Do{constructor(){super(...arguments),this._id=Or._counter++,this._type=void 0}accept(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,r)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${Qe(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`Î¼${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}}Or._counter=0;function Qe(e){const t=JSON.stringify(e,(r,i)=>typeof i=="bigint"?`BigInt(${i})`:i);return t&&t.length>oi?t.substring(0,oi-3)+"...":t}new rs(32);new rs(64);new Rr(8);new Rr(16);new Rr(32);new Rr(64);new Lr(8);new Lr(16);new Lr(32);new Lr(64);var ns={},tr={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Je,r=Ze,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=lt,e.INSPECT_MAX_BYTES=50;var u=2147483647;e.kMaxLength=u,c.TYPED_ARRAY_SUPPORT=p(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{var f=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(f,n),f.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function y(f){if(f>u)throw new RangeError('The value "'+f+'" is invalid for option "size"');var n=new Uint8Array(f);return Object.setPrototypeOf(n,c.prototype),n}function c(f,n,s){if(typeof f=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return O(f)}return E(f,n,s)}c.poolSize=8192;function E(f,n,s){if(typeof f=="string")return P(f,n);if(ArrayBuffer.isView(f))return rt(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(N(f,ArrayBuffer)||f&&N(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(N(f,SharedArrayBuffer)||f&&N(f.buffer,SharedArrayBuffer)))return et(f,n,s);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var h=f.valueOf&&f.valueOf();if(h!=null&&h!==f)return c.from(h,n,s);var g=ft(f);if(g)return g;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return c.from(f[Symbol.toPrimitive]("string"),n,s);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}c.from=function(f,n,s){return E(f,n,s)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function I(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function F(f,n,s){return I(f),f<=0?y(f):n!==void 0?typeof s=="string"?y(f).fill(n,s):y(f).fill(n):y(f)}c.alloc=function(f,n,s){return F(f,n,s)};function O(f){return I(f),y(f<0?0:Tt(f)|0)}c.allocUnsafe=function(f){return O(f)},c.allocUnsafeSlow=function(f){return O(f)};function P(f,n){if((typeof n!="string"||n==="")&&(n="utf8"),!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var s=Q(f,n)|0,h=y(s),g=h.write(f,n);return g!==s&&(h=h.slice(0,g)),h}function M(f){for(var n=f.length<0?0:Tt(f.length)|0,s=y(n),h=0;h<n;h+=1)s[h]=f[h]&255;return s}function rt(f){if(N(f,Uint8Array)){var n=new Uint8Array(f);return et(n.buffer,n.byteOffset,n.byteLength)}return M(f)}function et(f,n,s){if(n<0||f.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<n+(s||0))throw new RangeError('"length" is outside of buffer bounds');var h;return n===void 0&&s===void 0?h=new Uint8Array(f):s===void 0?h=new Uint8Array(f,n):h=new Uint8Array(f,n,s),Object.setPrototypeOf(h,c.prototype),h}function ft(f){if(c.isBuffer(f)){var n=Tt(f.length)|0,s=y(n);return s.length===0||f.copy(s,0,0,n),s}if(f.length!==void 0)return typeof f.length!="number"||S(f.length)?y(0):M(f);if(f.type==="Buffer"&&Array.isArray(f.data))return M(f.data)}function Tt(f){if(f>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return f|0}function lt(f){return+f!=f&&(f=0),c.alloc(+f)}c.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==c.prototype},c.compare=function(n,s){if(N(n,Uint8Array)&&(n=c.from(n,n.offset,n.byteLength)),N(s,Uint8Array)&&(s=c.from(s,s.offset,s.byteLength)),!c.isBuffer(n)||!c.isBuffer(s))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===s)return 0;for(var h=n.length,g=s.length,b=0,v=Math.min(h,g);b<v;++b)if(n[b]!==s[b]){h=n[b],g=s[b];break}return h<g?-1:g<h?1:0},c.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(n,s){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return c.alloc(0);var h;if(s===void 0)for(s=0,h=0;h<n.length;++h)s+=n[h].length;var g=c.allocUnsafe(s),b=0;for(h=0;h<n.length;++h){var v=n[h];if(N(v,Uint8Array))b+v.length>g.length?c.from(v).copy(g,b):Uint8Array.prototype.set.call(g,v,b);else if(c.isBuffer(v))v.copy(g,b);else throw new TypeError('"list" argument must be an Array of Buffers');b+=v.length}return g};function Q(f,n){if(c.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||N(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var s=f.length,h=arguments.length>2&&arguments[2]===!0;if(!h&&s===0)return 0;for(var g=!1;;)switch(n){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":return W(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s*2;case"hex":return s>>>1;case"base64":return m(f).length;default:if(g)return h?-1:W(f).length;n=(""+n).toLowerCase(),g=!0}}c.byteLength=Q;function Bt(f,n,s){var h=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((s===void 0||s>this.length)&&(s=this.length),s<=0)||(s>>>=0,n>>>=0,s<=n))return"";for(f||(f="utf8");;)switch(f){case"hex":return k(this,n,s);case"utf8":case"utf-8":return Ut(this,n,s);case"ascii":return Ot(this,n,s);case"latin1":case"binary":return K(this,n,s);case"base64":return dt(this,n,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,n,s);default:if(h)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),h=!0}}c.prototype._isBuffer=!0;function X(f,n,s){var h=f[n];f[n]=f[s],f[s]=h}c.prototype.swap16=function(){var n=this.length;if(n%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var s=0;s<n;s+=2)X(this,s,s+1);return this},c.prototype.swap32=function(){var n=this.length;if(n%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var s=0;s<n;s+=4)X(this,s,s+3),X(this,s+1,s+2);return this},c.prototype.swap64=function(){var n=this.length;if(n%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var s=0;s<n;s+=8)X(this,s,s+7),X(this,s+1,s+6),X(this,s+2,s+5),X(this,s+3,s+4);return this},c.prototype.toString=function(){var n=this.length;return n===0?"":arguments.length===0?Ut(this,0,n):Bt.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(n){if(!c.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:c.compare(this,n)===0},c.prototype.inspect=function(){var n="",s=e.INSPECT_MAX_BYTES;return n=this.toString("hex",0,s).replace(/(.{2})/g,"$1 ").trim(),this.length>s&&(n+=" ... "),"<Buffer "+n+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(n,s,h,g,b){if(N(n,Uint8Array)&&(n=c.from(n,n.offset,n.byteLength)),!c.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(s===void 0&&(s=0),h===void 0&&(h=n?n.length:0),g===void 0&&(g=0),b===void 0&&(b=this.length),s<0||h>n.length||g<0||b>this.length)throw new RangeError("out of range index");if(g>=b&&s>=h)return 0;if(g>=b)return-1;if(s>=h)return 1;if(s>>>=0,h>>>=0,g>>>=0,b>>>=0,this===n)return 0;for(var v=b-g,D=h-s,q=Math.min(v,D),j=this.slice(g,b),ot=n.slice(s,h),l=0;l<q;++l)if(j[l]!==ot[l]){v=j[l],D=ot[l];break}return v<D?-1:D<v?1:0};function J(f,n,s,h,g){if(f.length===0)return-1;if(typeof s=="string"?(h=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,S(s)&&(s=g?0:f.length-1),s<0&&(s=f.length+s),s>=f.length){if(g)return-1;s=f.length-1}else if(s<0)if(g)s=0;else return-1;if(typeof n=="string"&&(n=c.from(n,h)),c.isBuffer(n))return n.length===0?-1:Z(f,n,s,h,g);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?g?Uint8Array.prototype.indexOf.call(f,n,s):Uint8Array.prototype.lastIndexOf.call(f,n,s):Z(f,[n],s,h,g);throw new TypeError("val must be string, number or Buffer")}function Z(f,n,s,h,g){var b=1,v=f.length,D=n.length;if(h!==void 0&&(h=String(h).toLowerCase(),h==="ucs2"||h==="ucs-2"||h==="utf16le"||h==="utf-16le")){if(f.length<2||n.length<2)return-1;b=2,v/=2,D/=2,s/=2}function q(a,x){return b===1?a[x]:a.readUInt16BE(x*b)}var j;if(g){var ot=-1;for(j=s;j<v;j++)if(q(f,j)===q(n,ot===-1?0:j-ot)){if(ot===-1&&(ot=j),j-ot+1===D)return ot*b}else ot!==-1&&(j-=j-ot),ot=-1}else for(s+D>v&&(s=v-D),j=s;j>=0;j--){for(var l=!0,o=0;o<D;o++)if(q(f,j+o)!==q(n,o)){l=!1;break}if(l)return j}return-1}c.prototype.includes=function(n,s,h){return this.indexOf(n,s,h)!==-1},c.prototype.indexOf=function(n,s,h){return J(this,n,s,h,!0)},c.prototype.lastIndexOf=function(n,s,h){return J(this,n,s,h,!1)};function ut(f,n,s,h){s=Number(s)||0;var g=f.length-s;h?(h=Number(h),h>g&&(h=g)):h=g;var b=n.length;h>b/2&&(h=b/2);for(var v=0;v<h;++v){var D=parseInt(n.substr(v*2,2),16);if(S(D))return v;f[s+v]=D}return v}function gt(f,n,s,h){return _(W(n,f.length-s),f,s,h)}function C(f,n,s,h){return _(V(n),f,s,h)}function _t(f,n,s,h){return _(m(n),f,s,h)}function mt(f,n,s,h){return _(w(n,f.length-s),f,s,h)}c.prototype.write=function(n,s,h,g){if(s===void 0)g="utf8",h=this.length,s=0;else if(h===void 0&&typeof s=="string")g=s,h=this.length,s=0;else if(isFinite(s))s=s>>>0,isFinite(h)?(h=h>>>0,g===void 0&&(g="utf8")):(g=h,h=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var b=this.length-s;if((h===void 0||h>b)&&(h=b),n.length>0&&(h<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");for(var v=!1;;)switch(g){case"hex":return ut(this,n,s,h);case"utf8":case"utf-8":return gt(this,n,s,h);case"ascii":case"latin1":case"binary":return C(this,n,s,h);case"base64":return _t(this,n,s,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt(this,n,s,h);default:if(v)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase(),v=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function dt(f,n,s){return n===0&&s===f.length?t.fromByteArray(f):t.fromByteArray(f.slice(n,s))}function Ut(f,n,s){s=Math.min(f.length,s);for(var h=[],g=n;g<s;){var b=f[g],v=null,D=b>239?4:b>223?3:b>191?2:1;if(g+D<=s){var q,j,ot,l;switch(D){case 1:b<128&&(v=b);break;case 2:q=f[g+1],(q&192)===128&&(l=(b&31)<<6|q&63,l>127&&(v=l));break;case 3:q=f[g+1],j=f[g+2],(q&192)===128&&(j&192)===128&&(l=(b&15)<<12|(q&63)<<6|j&63,l>2047&&(l<55296||l>57343)&&(v=l));break;case 4:q=f[g+1],j=f[g+2],ot=f[g+3],(q&192)===128&&(j&192)===128&&(ot&192)===128&&(l=(b&15)<<18|(q&63)<<12|(j&63)<<6|ot&63,l>65535&&l<1114112&&(v=l))}}v===null?(v=65533,D=1):v>65535&&(v-=65536,h.push(v>>>10&1023|55296),v=56320|v&1023),h.push(v),g+=D}return zt(h)}var St=4096;function zt(f){var n=f.length;if(n<=St)return String.fromCharCode.apply(String,f);for(var s="",h=0;h<n;)s+=String.fromCharCode.apply(String,f.slice(h,h+=St));return s}function Ot(f,n,s){var h="";s=Math.min(f.length,s);for(var g=n;g<s;++g)h+=String.fromCharCode(f[g]&127);return h}function K(f,n,s){var h="";s=Math.min(f.length,s);for(var g=n;g<s;++g)h+=String.fromCharCode(f[g]);return h}function k(f,n,s){var h=f.length;(!n||n<0)&&(n=0),(!s||s<0||s>h)&&(s=h);for(var g="",b=n;b<s;++b)g+=U[f[b]];return g}function Y(f,n,s){for(var h=f.slice(n,s),g="",b=0;b<h.length-1;b+=2)g+=String.fromCharCode(h[b]+h[b+1]*256);return g}c.prototype.slice=function(n,s){var h=this.length;n=~~n,s=s===void 0?h:~~s,n<0?(n+=h,n<0&&(n=0)):n>h&&(n=h),s<0?(s+=h,s<0&&(s=0)):s>h&&(s=h),s<n&&(s=n);var g=this.subarray(n,s);return Object.setPrototypeOf(g,c.prototype),g};function z(f,n,s){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+n>s)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(n,s,h){n=n>>>0,s=s>>>0,h||z(n,s,this.length);for(var g=this[n],b=1,v=0;++v<s&&(b*=256);)g+=this[n+v]*b;return g},c.prototype.readUintBE=c.prototype.readUIntBE=function(n,s,h){n=n>>>0,s=s>>>0,h||z(n,s,this.length);for(var g=this[n+--s],b=1;s>0&&(b*=256);)g+=this[n+--s]*b;return g},c.prototype.readUint8=c.prototype.readUInt8=function(n,s){return n=n>>>0,s||z(n,1,this.length),this[n]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(n,s){return n=n>>>0,s||z(n,2,this.length),this[n]|this[n+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(n,s){return n=n>>>0,s||z(n,2,this.length),this[n]<<8|this[n+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(n,s){return n=n>>>0,s||z(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(n,s){return n=n>>>0,s||z(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])},c.prototype.readIntLE=function(n,s,h){n=n>>>0,s=s>>>0,h||z(n,s,this.length);for(var g=this[n],b=1,v=0;++v<s&&(b*=256);)g+=this[n+v]*b;return b*=128,g>=b&&(g-=Math.pow(2,8*s)),g},c.prototype.readIntBE=function(n,s,h){n=n>>>0,s=s>>>0,h||z(n,s,this.length);for(var g=s,b=1,v=this[n+--g];g>0&&(b*=256);)v+=this[n+--g]*b;return b*=128,v>=b&&(v-=Math.pow(2,8*s)),v},c.prototype.readInt8=function(n,s){return n=n>>>0,s||z(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]},c.prototype.readInt16LE=function(n,s){n=n>>>0,s||z(n,2,this.length);var h=this[n]|this[n+1]<<8;return h&32768?h|4294901760:h},c.prototype.readInt16BE=function(n,s){n=n>>>0,s||z(n,2,this.length);var h=this[n+1]|this[n]<<8;return h&32768?h|4294901760:h},c.prototype.readInt32LE=function(n,s){return n=n>>>0,s||z(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},c.prototype.readInt32BE=function(n,s){return n=n>>>0,s||z(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},c.prototype.readFloatLE=function(n,s){return n=n>>>0,s||z(n,4,this.length),r.read(this,n,!0,23,4)},c.prototype.readFloatBE=function(n,s){return n=n>>>0,s||z(n,4,this.length),r.read(this,n,!1,23,4)},c.prototype.readDoubleLE=function(n,s){return n=n>>>0,s||z(n,8,this.length),r.read(this,n,!0,52,8)},c.prototype.readDoubleBE=function(n,s){return n=n>>>0,s||z(n,8,this.length),r.read(this,n,!1,52,8)};function H(f,n,s,h,g,b){if(!c.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>g||n<b)throw new RangeError('"value" argument is out of bounds');if(s+h>f.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(n,s,h,g){if(n=+n,s=s>>>0,h=h>>>0,!g){var b=Math.pow(2,8*h)-1;H(this,n,s,h,b,0)}var v=1,D=0;for(this[s]=n&255;++D<h&&(v*=256);)this[s+D]=n/v&255;return s+h},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(n,s,h,g){if(n=+n,s=s>>>0,h=h>>>0,!g){var b=Math.pow(2,8*h)-1;H(this,n,s,h,b,0)}var v=h-1,D=1;for(this[s+v]=n&255;--v>=0&&(D*=256);)this[s+v]=n/D&255;return s+h},c.prototype.writeUint8=c.prototype.writeUInt8=function(n,s,h){return n=+n,s=s>>>0,h||H(this,n,s,1,255,0),this[s]=n&255,s+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(n,s,h){return n=+n,s=s>>>0,h||H(this,n,s,2,65535,0),this[s]=n&255,this[s+1]=n>>>8,s+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(n,s,h){return n=+n,s=s>>>0,h||H(this,n,s,2,65535,0),this[s]=n>>>8,this[s+1]=n&255,s+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(n,s,h){return n=+n,s=s>>>0,h||H(this,n,s,4,4294967295,0),this[s+3]=n>>>24,this[s+2]=n>>>16,this[s+1]=n>>>8,this[s]=n&255,s+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(n,s,h){return n=+n,s=s>>>0,h||H(this,n,s,4,4294967295,0),this[s]=n>>>24,this[s+1]=n>>>16,this[s+2]=n>>>8,this[s+3]=n&255,s+4},c.prototype.writeIntLE=function(n,s,h,g){if(n=+n,s=s>>>0,!g){var b=Math.pow(2,8*h-1);H(this,n,s,h,b-1,-b)}var v=0,D=1,q=0;for(this[s]=n&255;++v<h&&(D*=256);)n<0&&q===0&&this[s+v-1]!==0&&(q=1),this[s+v]=(n/D>>0)-q&255;return s+h},c.prototype.writeIntBE=function(n,s,h,g){if(n=+n,s=s>>>0,!g){var b=Math.pow(2,8*h-1);H(this,n,s,h,b-1,-b)}var v=h-1,D=1,q=0;for(this[s+v]=n&255;--v>=0&&(D*=256);)n<0&&q===0&&this[s+v+1]!==0&&(q=1),this[s+v]=(n/D>>0)-q&255;return s+h},c.prototype.writeInt8=function(n,s,h){return n=+n,s=s>>>0,h||H(this,n,s,1,127,-128),n<0&&(n=255+n+1),this[s]=n&255,s+1},c.prototype.writeInt16LE=function(n,s,h){return n=+n,s=s>>>0,h||H(this,n,s,2,32767,-32768),this[s]=n&255,this[s+1]=n>>>8,s+2},c.prototype.writeInt16BE=function(n,s,h){return n=+n,s=s>>>0,h||H(this,n,s,2,32767,-32768),this[s]=n>>>8,this[s+1]=n&255,s+2},c.prototype.writeInt32LE=function(n,s,h){return n=+n,s=s>>>0,h||H(this,n,s,4,2147483647,-2147483648),this[s]=n&255,this[s+1]=n>>>8,this[s+2]=n>>>16,this[s+3]=n>>>24,s+4},c.prototype.writeInt32BE=function(n,s,h){return n=+n,s=s>>>0,h||H(this,n,s,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[s]=n>>>24,this[s+1]=n>>>16,this[s+2]=n>>>8,this[s+3]=n&255,s+4};function ht(f,n,s,h,g,b){if(s+h>f.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function d(f,n,s,h,g){return n=+n,s=s>>>0,g||ht(f,n,s,4),r.write(f,n,s,h,23,4),s+4}c.prototype.writeFloatLE=function(n,s,h){return d(this,n,s,!0,h)},c.prototype.writeFloatBE=function(n,s,h){return d(this,n,s,!1,h)};function wt(f,n,s,h,g){return n=+n,s=s>>>0,g||ht(f,n,s,8),r.write(f,n,s,h,52,8),s+8}c.prototype.writeDoubleLE=function(n,s,h){return wt(this,n,s,!0,h)},c.prototype.writeDoubleBE=function(n,s,h){return wt(this,n,s,!1,h)},c.prototype.copy=function(n,s,h,g){if(!c.isBuffer(n))throw new TypeError("argument should be a Buffer");if(h||(h=0),!g&&g!==0&&(g=this.length),s>=n.length&&(s=n.length),s||(s=0),g>0&&g<h&&(g=h),g===h||n.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(h<0||h>=this.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length),n.length-s<g-h&&(g=n.length-s+h);var b=g-h;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(s,h,g):Uint8Array.prototype.set.call(n,this.subarray(h,g),s),b},c.prototype.fill=function(n,s,h,g){if(typeof n=="string"){if(typeof s=="string"?(g=s,s=0,h=this.length):typeof h=="string"&&(g=h,h=this.length),g!==void 0&&typeof g!="string")throw new TypeError("encoding must be a string");if(typeof g=="string"&&!c.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(n.length===1){var b=n.charCodeAt(0);(g==="utf8"&&b<128||g==="latin1")&&(n=b)}}else typeof n=="number"?n=n&255:typeof n=="boolean"&&(n=Number(n));if(s<0||this.length<s||this.length<h)throw new RangeError("Out of range index");if(h<=s)return this;s=s>>>0,h=h===void 0?this.length:h>>>0,n||(n=0);var v;if(typeof n=="number")for(v=s;v<h;++v)this[v]=n;else{var D=c.isBuffer(n)?n:c.from(n,g),q=D.length;if(q===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(v=0;v<h-s;++v)this[v+s]=D[v%q]}return this};var pt=/[^+/0-9A-Za-z-_]/g;function bt(f){if(f=f.split("=")[0],f=f.trim().replace(pt,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function W(f,n){n=n||1/0;for(var s,h=f.length,g=null,b=[],v=0;v<h;++v){if(s=f.charCodeAt(v),s>55295&&s<57344){if(!g){if(s>56319){(n-=3)>-1&&b.push(239,191,189);continue}else if(v+1===h){(n-=3)>-1&&b.push(239,191,189);continue}g=s;continue}if(s<56320){(n-=3)>-1&&b.push(239,191,189),g=s;continue}s=(g-55296<<10|s-56320)+65536}else g&&(n-=3)>-1&&b.push(239,191,189);if(g=null,s<128){if((n-=1)<0)break;b.push(s)}else if(s<2048){if((n-=2)<0)break;b.push(s>>6|192,s&63|128)}else if(s<65536){if((n-=3)<0)break;b.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<1114112){if((n-=4)<0)break;b.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else throw new Error("Invalid code point")}return b}function V(f){for(var n=[],s=0;s<f.length;++s)n.push(f.charCodeAt(s)&255);return n}function w(f,n){for(var s,h,g,b=[],v=0;v<f.length&&!((n-=2)<0);++v)s=f.charCodeAt(v),h=s>>8,g=s%256,b.push(g),b.push(h);return b}function m(f){return t.toByteArray(bt(f))}function _(f,n,s,h){for(var g=0;g<h&&!(g+s>=n.length||g>=f.length);++g)n[g+s]=f[g];return g}function N(f,n){return f instanceof n||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===n.name}function S(f){return f!==f}var U=function(){for(var f="0123456789abcdef",n=new Array(256),s=0;s<16;++s)for(var h=s*16,g=0;g<16;++g)n[h+g]=f[s]+f[g];return n}()})(tr);var is={exports:{}};(function(e){(function(t){var r,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,u=Math.ceil,p=Math.floor,y="[BigNumber Error] ",c=y+"Number primitive has more than 15 significant digits: ",E=1e14,I=14,F=9007199254740991,O=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],P=1e7,M=1e9;function rt(J){var Z,ut,gt,C=d.prototype={constructor:d,toString:null,valueOf:null},_t=new d(1),mt=20,dt=4,Ut=-7,St=21,zt=-1e7,Ot=1e7,K=!1,k=1,Y=0,z={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz",ht=!0;function d(w,m){var _,N,S,U,f,n,s,h,g=this;if(!(g instanceof d))return new d(w,m);if(m==null){if(w&&w._isBigNumber===!0){g.s=w.s,!w.c||w.e>Ot?g.c=g.e=null:w.e<zt?g.c=[g.e=0]:(g.e=w.e,g.c=w.c.slice());return}if((n=typeof w=="number")&&w*0==0){if(g.s=1/w<0?(w=-w,-1):1,w===~~w){for(U=0,f=w;f>=10;f/=10,U++);U>Ot?g.c=g.e=null:(g.e=U,g.c=[w]);return}h=String(w)}else{if(!i.test(h=String(w)))return gt(g,h,n);g.s=h.charCodeAt(0)==45?(h=h.slice(1),-1):1}(U=h.indexOf("."))>-1&&(h=h.replace(".","")),(f=h.search(/e/i))>0?(U<0&&(U=f),U+=+h.slice(f+1),h=h.substring(0,f)):U<0&&(U=h.length)}else{if(lt(m,2,H.length,"Base"),m==10&&ht)return g=new d(w),W(g,mt+g.e+1,dt);if(h=String(w),n=typeof w=="number"){if(w*0!=0)return gt(g,h,n,m);if(g.s=1/w<0?(h=h.slice(1),-1):1,d.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(c+w)}else g.s=h.charCodeAt(0)===45?(h=h.slice(1),-1):1;for(_=H.slice(0,m),U=f=0,s=h.length;f<s;f++)if(_.indexOf(N=h.charAt(f))<0){if(N=="."){if(f>U){U=s;continue}}else if(!S&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){S=!0,f=-1,U=0;continue}return gt(g,String(w),n,m)}n=!1,h=ut(h,m,10,g.s),(U=h.indexOf("."))>-1?h=h.replace(".",""):U=h.length}for(f=0;h.charCodeAt(f)===48;f++);for(s=h.length;h.charCodeAt(--s)===48;);if(h=h.slice(f,++s)){if(s-=f,n&&d.DEBUG&&s>15&&(w>F||w!==p(w)))throw Error(c+g.s*w);if((U=U-f-1)>Ot)g.c=g.e=null;else if(U<zt)g.c=[g.e=0];else{if(g.e=U,g.c=[],f=(U+1)%I,U<0&&(f+=I),f<s){for(f&&g.c.push(+h.slice(0,f)),s-=I;f<s;)g.c.push(+h.slice(f,f+=I));f=I-(h=h.slice(f)).length}else f-=s;for(;f--;h+="0");g.c.push(+h)}}else g.c=[g.e=0]}d.clone=rt,d.ROUND_UP=0,d.ROUND_DOWN=1,d.ROUND_CEIL=2,d.ROUND_FLOOR=3,d.ROUND_HALF_UP=4,d.ROUND_HALF_DOWN=5,d.ROUND_HALF_EVEN=6,d.ROUND_HALF_CEIL=7,d.ROUND_HALF_FLOOR=8,d.EUCLID=9,d.config=d.set=function(w){var m,_;if(w!=null)if(typeof w=="object"){if(w.hasOwnProperty(m="DECIMAL_PLACES")&&(_=w[m],lt(_,0,M,m),mt=_),w.hasOwnProperty(m="ROUNDING_MODE")&&(_=w[m],lt(_,0,8,m),dt=_),w.hasOwnProperty(m="EXPONENTIAL_AT")&&(_=w[m],_&&_.pop?(lt(_[0],-M,0,m),lt(_[1],0,M,m),Ut=_[0],St=_[1]):(lt(_,-M,M,m),Ut=-(St=_<0?-_:_))),w.hasOwnProperty(m="RANGE"))if(_=w[m],_&&_.pop)lt(_[0],-M,-1,m),lt(_[1],1,M,m),zt=_[0],Ot=_[1];else if(lt(_,-M,M,m),_)zt=-(Ot=_<0?-_:_);else throw Error(y+m+" cannot be zero: "+_);if(w.hasOwnProperty(m="CRYPTO"))if(_=w[m],_===!!_)if(_)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))K=_;else throw K=!_,Error(y+"crypto unavailable");else K=_;else throw Error(y+m+" not true or false: "+_);if(w.hasOwnProperty(m="MODULO_MODE")&&(_=w[m],lt(_,0,9,m),k=_),w.hasOwnProperty(m="POW_PRECISION")&&(_=w[m],lt(_,0,M,m),Y=_),w.hasOwnProperty(m="FORMAT"))if(_=w[m],typeof _=="object")z=_;else throw Error(y+m+" not an object: "+_);if(w.hasOwnProperty(m="ALPHABET"))if(_=w[m],typeof _=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(_))ht=_.slice(0,10)=="0123456789",H=_;else throw Error(y+m+" invalid: "+_)}else throw Error(y+"Object expected: "+w);return{DECIMAL_PLACES:mt,ROUNDING_MODE:dt,EXPONENTIAL_AT:[Ut,St],RANGE:[zt,Ot],CRYPTO:K,MODULO_MODE:k,POW_PRECISION:Y,FORMAT:z,ALPHABET:H}},d.isBigNumber=function(w){if(!w||w._isBigNumber!==!0)return!1;if(!d.DEBUG)return!0;var m,_,N=w.c,S=w.e,U=w.s;t:if({}.toString.call(N)=="[object Array]"){if((U===1||U===-1)&&S>=-M&&S<=M&&S===p(S)){if(N[0]===0){if(S===0&&N.length===1)return!0;break t}if(m=(S+1)%I,m<1&&(m+=I),String(N[0]).length==m){for(m=0;m<N.length;m++)if(_=N[m],_<0||_>=E||_!==p(_))break t;if(_!==0)return!0}}}else if(N===null&&S===null&&(U===null||U===1||U===-1))return!0;throw Error(y+"Invalid BigNumber: "+w)},d.maximum=d.max=function(){return pt(arguments,-1)},d.minimum=d.min=function(){return pt(arguments,1)},d.random=function(){var w=9007199254740992,m=Math.random()*w&2097151?function(){return p(Math.random()*w)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(_){var N,S,U,f,n,s=0,h=[],g=new d(_t);if(_==null?_=mt:lt(_,0,M),f=u(_/I),K)if(crypto.getRandomValues){for(N=crypto.getRandomValues(new Uint32Array(f*=2));s<f;)n=N[s]*131072+(N[s+1]>>>11),n>=9e15?(S=crypto.getRandomValues(new Uint32Array(2)),N[s]=S[0],N[s+1]=S[1]):(h.push(n%1e14),s+=2);s=f/2}else if(crypto.randomBytes){for(N=crypto.randomBytes(f*=7);s<f;)n=(N[s]&31)*281474976710656+N[s+1]*1099511627776+N[s+2]*4294967296+N[s+3]*16777216+(N[s+4]<<16)+(N[s+5]<<8)+N[s+6],n>=9e15?crypto.randomBytes(7).copy(N,s):(h.push(n%1e14),s+=7);s=f/7}else throw K=!1,Error(y+"crypto unavailable");if(!K)for(;s<f;)n=m(),n<9e15&&(h[s++]=n%1e14);for(f=h[--s],_%=I,f&&_&&(n=O[I-_],h[s]=p(f/n)*n);h[s]===0;h.pop(),s--);if(s<0)h=[U=0];else{for(U=-1;h[0]===0;h.splice(0,1),U-=I);for(s=1,n=h[0];n>=10;n/=10,s++);s<I&&(U-=I-s)}return g.e=U,g.c=h,g}}(),d.sum=function(){for(var w=1,m=arguments,_=new d(m[0]);w<m.length;)_=_.plus(m[w++]);return _},ut=function(){var w="0123456789";function m(_,N,S,U){for(var f,n=[0],s,h=0,g=_.length;h<g;){for(s=n.length;s--;n[s]*=N);for(n[0]+=U.indexOf(_.charAt(h++)),f=0;f<n.length;f++)n[f]>S-1&&(n[f+1]==null&&(n[f+1]=0),n[f+1]+=n[f]/S|0,n[f]%=S)}return n.reverse()}return function(_,N,S,U,f){var n,s,h,g,b,v,D,q,j=_.indexOf("."),ot=mt,l=dt;for(j>=0&&(g=Y,Y=0,_=_.replace(".",""),q=new d(N),v=q.pow(_.length-j),Y=g,q.c=m(X(ft(v.c),v.e,"0"),10,S,w),q.e=q.c.length),D=m(_,N,S,f?(n=H,w):(n=w,H)),h=g=D.length;D[--g]==0;D.pop());if(!D[0])return n.charAt(0);if(j<0?--h:(v.c=D,v.e=h,v.s=U,v=Z(v,q,ot,l,S),D=v.c,b=v.r,h=v.e),s=h+ot+1,j=D[s],g=S/2,b=b||s<0||D[s+1]!=null,b=l<4?(j!=null||b)&&(l==0||l==(v.s<0?3:2)):j>g||j==g&&(l==4||b||l==6&&D[s-1]&1||l==(v.s<0?8:7)),s<1||!D[0])_=b?X(n.charAt(1),-ot,n.charAt(0)):n.charAt(0);else{if(D.length=s,b)for(--S;++D[--s]>S;)D[s]=0,s||(++h,D=[1].concat(D));for(g=D.length;!D[--g];);for(j=0,_="";j<=g;_+=n.charAt(D[j++]));_=X(_,h,n.charAt(0))}return _}}(),Z=function(){function w(N,S,U){var f,n,s,h,g=0,b=N.length,v=S%P,D=S/P|0;for(N=N.slice();b--;)s=N[b]%P,h=N[b]/P|0,f=D*s+h*v,n=v*s+f%P*P+g,g=(n/U|0)+(f/P|0)+D*h,N[b]=n%U;return g&&(N=[g].concat(N)),N}function m(N,S,U,f){var n,s;if(U!=f)s=U>f?1:-1;else for(n=s=0;n<U;n++)if(N[n]!=S[n]){s=N[n]>S[n]?1:-1;break}return s}function _(N,S,U,f){for(var n=0;U--;)N[U]-=n,n=N[U]<S[U]?1:0,N[U]=n*f+N[U]-S[U];for(;!N[0]&&N.length>1;N.splice(0,1));}return function(N,S,U,f,n){var s,h,g,b,v,D,q,j,ot,l,o,a,x,T,L,R,nt,xt=N.s==S.s?1:-1,at=N.c,st=S.c;if(!at||!at[0]||!st||!st[0])return new d(!N.s||!S.s||(at?st&&at[0]==st[0]:!st)?NaN:at&&at[0]==0||!st?xt*0:xt/0);for(j=new d(xt),ot=j.c=[],h=N.e-S.e,xt=U+h+1,n||(n=E,h=et(N.e/I)-et(S.e/I),xt=xt/I|0),g=0;st[g]==(at[g]||0);g++);if(st[g]>(at[g]||0)&&h--,xt<0)ot.push(1),b=!0;else{for(T=at.length,R=st.length,g=0,xt+=2,v=p(n/(st[0]+1)),v>1&&(st=w(st,v,n),at=w(at,v,n),R=st.length,T=at.length),x=R,l=at.slice(0,R),o=l.length;o<R;l[o++]=0);nt=st.slice(),nt=[0].concat(nt),L=st[0],st[1]>=n/2&&L++;do{if(v=0,s=m(st,l,R,o),s<0){if(a=l[0],R!=o&&(a=a*n+(l[1]||0)),v=p(a/L),v>1)for(v>=n&&(v=n-1),D=w(st,v,n),q=D.length,o=l.length;m(D,l,q,o)==1;)v--,_(D,R<q?nt:st,q,n),q=D.length,s=1;else v==0&&(s=v=1),D=st.slice(),q=D.length;if(q<o&&(D=[0].concat(D)),_(l,D,o,n),o=l.length,s==-1)for(;m(st,l,R,o)<1;)v++,_(l,R<o?nt:st,o,n),o=l.length}else s===0&&(v++,l=[0]);ot[g++]=v,l[0]?l[o++]=at[x]||0:(l=[at[x]],o=1)}while((x++<T||l[0]!=null)&&xt--);b=l[0]!=null,ot[0]||ot.splice(0,1)}if(n==E){for(g=1,xt=ot[0];xt>=10;xt/=10,g++);W(j,U+(j.e=g+h*I-1)+1,f,b)}else j.e=h,j.r=+b;return j}}();function wt(w,m,_,N){var S,U,f,n,s;if(_==null?_=dt:lt(_,0,8),!w.c)return w.toString();if(S=w.c[0],f=w.e,m==null)s=ft(w.c),s=N==1||N==2&&(f<=Ut||f>=St)?Bt(s,f):X(s,f,"0");else if(w=W(new d(w),m,_),U=w.e,s=ft(w.c),n=s.length,N==1||N==2&&(m<=U||U<=Ut)){for(;n<m;s+="0",n++);s=Bt(s,U)}else if(m-=f,s=X(s,U,"0"),U+1>n){if(--m>0)for(s+=".";m--;s+="0");}else if(m+=U-n,m>0)for(U+1==n&&(s+=".");m--;s+="0");return w.s<0&&S?"-"+s:s}function pt(w,m){for(var _,N,S=1,U=new d(w[0]);S<w.length;S++)N=new d(w[S]),(!N.s||(_=Tt(U,N))===m||_===0&&U.s===m)&&(U=N);return U}function bt(w,m,_){for(var N=1,S=m.length;!m[--S];m.pop());for(S=m[0];S>=10;S/=10,N++);return(_=N+_*I-1)>Ot?w.c=w.e=null:_<zt?w.c=[w.e=0]:(w.e=_,w.c=m),w}gt=function(){var w=/^(-?)0([xbo])(?=\w[\w.]*$)/i,m=/^([^.]+)\.$/,_=/^\.([^.]+)$/,N=/^-?(Infinity|NaN)$/,S=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(U,f,n,s){var h,g=n?f:f.replace(S,"");if(N.test(g))U.s=isNaN(g)?null:g<0?-1:1;else{if(!n&&(g=g.replace(w,function(b,v,D){return h=(D=D.toLowerCase())=="x"?16:D=="b"?2:8,!s||s==h?v:b}),s&&(h=s,g=g.replace(m,"$1").replace(_,"0.$1")),f!=g))return new d(g,h);if(d.DEBUG)throw Error(y+"Not a"+(s?" base "+s:"")+" number: "+f);U.s=null}U.c=U.e=null}}();function W(w,m,_,N){var S,U,f,n,s,h,g,b=w.c,v=O;if(b){t:{for(S=1,n=b[0];n>=10;n/=10,S++);if(U=m-S,U<0)U+=I,f=m,s=b[h=0],g=p(s/v[S-f-1]%10);else if(h=u((U+1)/I),h>=b.length)if(N){for(;b.length<=h;b.push(0));s=g=0,S=1,U%=I,f=U-I+1}else break t;else{for(s=n=b[h],S=1;n>=10;n/=10,S++);U%=I,f=U-I+S,g=f<0?0:p(s/v[S-f-1]%10)}if(N=N||m<0||b[h+1]!=null||(f<0?s:s%v[S-f-1]),N=_<4?(g||N)&&(_==0||_==(w.s<0?3:2)):g>5||g==5&&(_==4||N||_==6&&(U>0?f>0?s/v[S-f]:0:b[h-1])%10&1||_==(w.s<0?8:7)),m<1||!b[0])return b.length=0,N?(m-=w.e+1,b[0]=v[(I-m%I)%I],w.e=-m||0):b[0]=w.e=0,w;if(U==0?(b.length=h,n=1,h--):(b.length=h+1,n=v[I-U],b[h]=f>0?p(s/v[S-f]%v[f])*n:0),N)for(;;)if(h==0){for(U=1,f=b[0];f>=10;f/=10,U++);for(f=b[0]+=n,n=1;f>=10;f/=10,n++);U!=n&&(w.e++,b[0]==E&&(b[0]=1));break}else{if(b[h]+=n,b[h]!=E)break;b[h--]=0,n=1}for(U=b.length;b[--U]===0;b.pop());}w.e>Ot?w.c=w.e=null:w.e<zt&&(w.c=[w.e=0])}return w}function V(w){var m,_=w.e;return _===null?w.toString():(m=ft(w.c),m=_<=Ut||_>=St?Bt(m,_):X(m,_,"0"),w.s<0?"-"+m:m)}return C.absoluteValue=C.abs=function(){var w=new d(this);return w.s<0&&(w.s=1),w},C.comparedTo=function(w,m){return Tt(this,new d(w,m))},C.decimalPlaces=C.dp=function(w,m){var _,N,S,U=this;if(w!=null)return lt(w,0,M),m==null?m=dt:lt(m,0,8),W(new d(U),w+U.e+1,m);if(!(_=U.c))return null;if(N=((S=_.length-1)-et(this.e/I))*I,S=_[S])for(;S%10==0;S/=10,N--);return N<0&&(N=0),N},C.dividedBy=C.div=function(w,m){return Z(this,new d(w,m),mt,dt)},C.dividedToIntegerBy=C.idiv=function(w,m){return Z(this,new d(w,m),0,1)},C.exponentiatedBy=C.pow=function(w,m){var _,N,S,U,f,n,s,h,g,b=this;if(w=new d(w),w.c&&!w.isInteger())throw Error(y+"Exponent not an integer: "+V(w));if(m!=null&&(m=new d(m)),n=w.e>14,!b.c||!b.c[0]||b.c[0]==1&&!b.e&&b.c.length==1||!w.c||!w.c[0])return g=new d(Math.pow(+V(b),n?w.s*(2-Q(w)):+V(w))),m?g.mod(m):g;if(s=w.s<0,m){if(m.c?!m.c[0]:!m.s)return new d(NaN);N=!s&&b.isInteger()&&m.isInteger(),N&&(b=b.mod(m))}else{if(w.e>9&&(b.e>0||b.e<-1||(b.e==0?b.c[0]>1||n&&b.c[1]>=24e7:b.c[0]<8e13||n&&b.c[0]<=9999975e7)))return U=b.s<0&&Q(w)?-0:0,b.e>-1&&(U=1/U),new d(s?1/U:U);Y&&(U=u(Y/I+2))}for(n?(_=new d(.5),s&&(w.s=1),h=Q(w)):(S=Math.abs(+V(w)),h=S%2),g=new d(_t);;){if(h){if(g=g.times(b),!g.c)break;U?g.c.length>U&&(g.c.length=U):N&&(g=g.mod(m))}if(S){if(S=p(S/2),S===0)break;h=S%2}else if(w=w.times(_),W(w,w.e+1,1),w.e>14)h=Q(w);else{if(S=+V(w),S===0)break;h=S%2}b=b.times(b),U?b.c&&b.c.length>U&&(b.c.length=U):N&&(b=b.mod(m))}return N?g:(s&&(g=_t.div(g)),m?g.mod(m):U?W(g,Y,dt,f):g)},C.integerValue=function(w){var m=new d(this);return w==null?w=dt:lt(w,0,8),W(m,m.e+1,w)},C.isEqualTo=C.eq=function(w,m){return Tt(this,new d(w,m))===0},C.isFinite=function(){return!!this.c},C.isGreaterThan=C.gt=function(w,m){return Tt(this,new d(w,m))>0},C.isGreaterThanOrEqualTo=C.gte=function(w,m){return(m=Tt(this,new d(w,m)))===1||m===0},C.isInteger=function(){return!!this.c&&et(this.e/I)>this.c.length-2},C.isLessThan=C.lt=function(w,m){return Tt(this,new d(w,m))<0},C.isLessThanOrEqualTo=C.lte=function(w,m){return(m=Tt(this,new d(w,m)))===-1||m===0},C.isNaN=function(){return!this.s},C.isNegative=function(){return this.s<0},C.isPositive=function(){return this.s>0},C.isZero=function(){return!!this.c&&this.c[0]==0},C.minus=function(w,m){var _,N,S,U,f=this,n=f.s;if(w=new d(w,m),m=w.s,!n||!m)return new d(NaN);if(n!=m)return w.s=-m,f.plus(w);var s=f.e/I,h=w.e/I,g=f.c,b=w.c;if(!s||!h){if(!g||!b)return g?(w.s=-m,w):new d(b?f:NaN);if(!g[0]||!b[0])return b[0]?(w.s=-m,w):new d(g[0]?f:dt==3?-0:0)}if(s=et(s),h=et(h),g=g.slice(),n=s-h){for((U=n<0)?(n=-n,S=g):(h=s,S=b),S.reverse(),m=n;m--;S.push(0));S.reverse()}else for(N=(U=(n=g.length)<(m=b.length))?n:m,n=m=0;m<N;m++)if(g[m]!=b[m]){U=g[m]<b[m];break}if(U&&(S=g,g=b,b=S,w.s=-w.s),m=(N=b.length)-(_=g.length),m>0)for(;m--;g[_++]=0);for(m=E-1;N>n;){if(g[--N]<b[N]){for(_=N;_&&!g[--_];g[_]=m);--g[_],g[N]+=E}g[N]-=b[N]}for(;g[0]==0;g.splice(0,1),--h);return g[0]?bt(w,g,h):(w.s=dt==3?-1:1,w.c=[w.e=0],w)},C.modulo=C.mod=function(w,m){var _,N,S=this;return w=new d(w,m),!S.c||!w.s||w.c&&!w.c[0]?new d(NaN):!w.c||S.c&&!S.c[0]?new d(S):(k==9?(N=w.s,w.s=1,_=Z(S,w,0,3),w.s=N,_.s*=N):_=Z(S,w,0,k),w=S.minus(_.times(w)),!w.c[0]&&k==1&&(w.s=S.s),w)},C.multipliedBy=C.times=function(w,m){var _,N,S,U,f,n,s,h,g,b,v,D,q,j,ot,l=this,o=l.c,a=(w=new d(w,m)).c;if(!o||!a||!o[0]||!a[0])return!l.s||!w.s||o&&!o[0]&&!a||a&&!a[0]&&!o?w.c=w.e=w.s=null:(w.s*=l.s,!o||!a?w.c=w.e=null:(w.c=[0],w.e=0)),w;for(N=et(l.e/I)+et(w.e/I),w.s*=l.s,s=o.length,b=a.length,s<b&&(q=o,o=a,a=q,S=s,s=b,b=S),S=s+b,q=[];S--;q.push(0));for(j=E,ot=P,S=b;--S>=0;){for(_=0,v=a[S]%ot,D=a[S]/ot|0,f=s,U=S+f;U>S;)h=o[--f]%ot,g=o[f]/ot|0,n=D*h+g*v,h=v*h+n%ot*ot+q[U]+_,_=(h/j|0)+(n/ot|0)+D*g,q[U--]=h%j;q[U]=_}return _?++N:q.splice(0,1),bt(w,q,N)},C.negated=function(){var w=new d(this);return w.s=-w.s||null,w},C.plus=function(w,m){var _,N=this,S=N.s;if(w=new d(w,m),m=w.s,!S||!m)return new d(NaN);if(S!=m)return w.s=-m,N.minus(w);var U=N.e/I,f=w.e/I,n=N.c,s=w.c;if(!U||!f){if(!n||!s)return new d(S/0);if(!n[0]||!s[0])return s[0]?w:new d(n[0]?N:S*0)}if(U=et(U),f=et(f),n=n.slice(),S=U-f){for(S>0?(f=U,_=s):(S=-S,_=n),_.reverse();S--;_.push(0));_.reverse()}for(S=n.length,m=s.length,S-m<0&&(_=s,s=n,n=_,m=S),S=0;m;)S=(n[--m]=n[m]+s[m]+S)/E|0,n[m]=E===n[m]?0:n[m]%E;return S&&(n=[S].concat(n),++f),bt(w,n,f)},C.precision=C.sd=function(w,m){var _,N,S,U=this;if(w!=null&&w!==!!w)return lt(w,1,M),m==null?m=dt:lt(m,0,8),W(new d(U),w,m);if(!(_=U.c))return null;if(S=_.length-1,N=S*I+1,S=_[S]){for(;S%10==0;S/=10,N--);for(S=_[0];S>=10;S/=10,N++);}return w&&U.e+1>N&&(N=U.e+1),N},C.shiftedBy=function(w){return lt(w,-F,F),this.times("1e"+w)},C.squareRoot=C.sqrt=function(){var w,m,_,N,S,U=this,f=U.c,n=U.s,s=U.e,h=mt+4,g=new d("0.5");if(n!==1||!f||!f[0])return new d(!n||n<0&&(!f||f[0])?NaN:f?U:1/0);if(n=Math.sqrt(+V(U)),n==0||n==1/0?(m=ft(f),(m.length+s)%2==0&&(m+="0"),n=Math.sqrt(+m),s=et((s+1)/2)-(s<0||s%2),n==1/0?m="5e"+s:(m=n.toExponential(),m=m.slice(0,m.indexOf("e")+1)+s),_=new d(m)):_=new d(n+""),_.c[0]){for(s=_.e,n=s+h,n<3&&(n=0);;)if(S=_,_=g.times(S.plus(Z(U,S,h,1))),ft(S.c).slice(0,n)===(m=ft(_.c)).slice(0,n))if(_.e<s&&--n,m=m.slice(n-3,n+1),m=="9999"||!N&&m=="4999"){if(!N&&(W(S,S.e+mt+2,0),S.times(S).eq(U))){_=S;break}h+=4,n+=4,N=1}else{(!+m||!+m.slice(1)&&m.charAt(0)=="5")&&(W(_,_.e+mt+2,1),w=!_.times(_).eq(U));break}}return W(_,_.e+mt+1,dt,w)},C.toExponential=function(w,m){return w!=null&&(lt(w,0,M),w++),wt(this,w,m,1)},C.toFixed=function(w,m){return w!=null&&(lt(w,0,M),w=w+this.e+1),wt(this,w,m)},C.toFormat=function(w,m,_){var N,S=this;if(_==null)w!=null&&m&&typeof m=="object"?(_=m,m=null):w&&typeof w=="object"?(_=w,w=m=null):_=z;else if(typeof _!="object")throw Error(y+"Argument not an object: "+_);if(N=S.toFixed(w,m),S.c){var U,f=N.split("."),n=+_.groupSize,s=+_.secondaryGroupSize,h=_.groupSeparator||"",g=f[0],b=f[1],v=S.s<0,D=v?g.slice(1):g,q=D.length;if(s&&(U=n,n=s,s=U,q-=U),n>0&&q>0){for(U=q%n||n,g=D.substr(0,U);U<q;U+=n)g+=h+D.substr(U,n);s>0&&(g+=h+D.slice(U)),v&&(g="-"+g)}N=b?g+(_.decimalSeparator||"")+((s=+_.fractionGroupSize)?b.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+(_.fractionGroupSeparator||"")):b):g}return(_.prefix||"")+N+(_.suffix||"")},C.toFraction=function(w){var m,_,N,S,U,f,n,s,h,g,b,v,D=this,q=D.c;if(w!=null&&(n=new d(w),!n.isInteger()&&(n.c||n.s!==1)||n.lt(_t)))throw Error(y+"Argument "+(n.isInteger()?"out of range: ":"not an integer: ")+V(n));if(!q)return new d(D);for(m=new d(_t),h=_=new d(_t),N=s=new d(_t),v=ft(q),U=m.e=v.length-D.e-1,m.c[0]=O[(f=U%I)<0?I+f:f],w=!w||n.comparedTo(m)>0?U>0?m:h:n,f=Ot,Ot=1/0,n=new d(v),s.c[0]=0;g=Z(n,m,0,1),S=_.plus(g.times(N)),S.comparedTo(w)!=1;)_=N,N=S,h=s.plus(g.times(S=h)),s=S,m=n.minus(g.times(S=m)),n=S;return S=Z(w.minus(_),N,0,1),s=s.plus(S.times(h)),_=_.plus(S.times(N)),s.s=h.s=D.s,U=U*2,b=Z(h,N,U,dt).minus(D).abs().comparedTo(Z(s,_,U,dt).minus(D).abs())<1?[h,N]:[s,_],Ot=f,b},C.toNumber=function(){return+V(this)},C.toPrecision=function(w,m){return w!=null&&lt(w,1,M),wt(this,w,m,2)},C.toString=function(w){var m,_=this,N=_.s,S=_.e;return S===null?N?(m="Infinity",N<0&&(m="-"+m)):m="NaN":(w==null?m=S<=Ut||S>=St?Bt(ft(_.c),S):X(ft(_.c),S,"0"):w===10&&ht?(_=W(new d(_),mt+S+1,dt),m=X(ft(_.c),_.e,"0")):(lt(w,2,H.length,"Base"),m=ut(X(ft(_.c),S,"0"),10,w,N,!0)),N<0&&_.c[0]&&(m="-"+m)),m},C.valueOf=C.toJSON=function(){return V(this)},C._isBigNumber=!0,J!=null&&d.set(J),d}function et(J){var Z=J|0;return J>0||J===Z?Z:Z-1}function ft(J){for(var Z,ut,gt=1,C=J.length,_t=J[0]+"";gt<C;){for(Z=J[gt++]+"",ut=I-Z.length;ut--;Z="0"+Z);_t+=Z}for(C=_t.length;_t.charCodeAt(--C)===48;);return _t.slice(0,C+1||1)}function Tt(J,Z){var ut,gt,C=J.c,_t=Z.c,mt=J.s,dt=Z.s,Ut=J.e,St=Z.e;if(!mt||!dt)return null;if(ut=C&&!C[0],gt=_t&&!_t[0],ut||gt)return ut?gt?0:-dt:mt;if(mt!=dt)return mt;if(ut=mt<0,gt=Ut==St,!C||!_t)return gt?0:!C^ut?1:-1;if(!gt)return Ut>St^ut?1:-1;for(dt=(Ut=C.length)<(St=_t.length)?Ut:St,mt=0;mt<dt;mt++)if(C[mt]!=_t[mt])return C[mt]>_t[mt]^ut?1:-1;return Ut==St?0:Ut>St^ut?1:-1}function lt(J,Z,ut,gt){if(J<Z||J>ut||J!==p(J))throw Error(y+(gt||"Argument")+(typeof J=="number"?J<Z||J>ut?" out of range: ":" not an integer: ":" not a primitive number: ")+String(J))}function Q(J){var Z=J.c.length-1;return et(J.e/I)==Z&&J.c[Z]%2!=0}function Bt(J,Z){return(J.length>1?J.charAt(0)+"."+J.slice(1):J)+(Z<0?"e":"e+")+Z}function X(J,Z,ut){var gt,C;if(Z<0){for(C=ut+".";++Z;C+=ut);J=C+J}else if(gt=J.length,++Z>gt){for(C=ut,Z-=gt;--Z;C+=ut);J+=C}else Z<gt&&(J=J.slice(0,Z)+"."+J.slice(Z));return J}r=rt(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(Pe)})(is);var Dr=is.exports,Mo=function(t,r,i){var u=new t.Uint8Array(i),p=r.pushInt,y=r.pushInt32,c=r.pushInt32Neg,E=r.pushInt64,I=r.pushInt64Neg,F=r.pushFloat,O=r.pushFloatSingle,P=r.pushFloatDouble,M=r.pushTrue,rt=r.pushFalse,et=r.pushUndefined,ft=r.pushNull,Tt=r.pushInfinity,lt=r.pushInfinityNeg,Q=r.pushNaN,Bt=r.pushNaNNeg,X=r.pushArrayStart,J=r.pushArrayStartFixed,Z=r.pushArrayStartFixed32,ut=r.pushArrayStartFixed64,gt=r.pushObjectStart,C=r.pushObjectStartFixed,_t=r.pushObjectStartFixed32,mt=r.pushObjectStartFixed64,dt=r.pushByteString,Ut=r.pushByteStringStart,St=r.pushUtf8String,zt=r.pushUtf8StringStart,Ot=r.pushSimpleUnassigned,K=r.pushTagStart,k=r.pushTagStart4,Y=r.pushTagStart8,z=r.pushTagUnassigned,H=r.pushBreak,ht=t.Math.pow,d=0,wt=0,pt=0;function bt(A){for(A=A|0,d=0,wt=A;(d|0)<(wt|0)&&(pt=Gt[u[d]&255](u[d]|0)|0,!((pt|0)>0)););return pt|0}function W(A){return A=A|0,((d|0)+(A|0)|0)<(wt|0)?0:1}function V(A){return A=A|0,u[A|0]<<8|u[A+1|0]|0}function w(A){return A=A|0,u[A|0]<<24|u[A+1|0]<<16|u[A+2|0]<<8|u[A+3|0]|0}function m(A){return A=A|0,p(A|0),d=d+1|0,0}function _(A){return A=A|0,W(1)|0?1:(p(u[d+1|0]|0),d=d+2|0,0)}function N(A){return A=A|0,W(2)|0?1:(p(V(d+1|0)|0),d=d+3|0,0)}function S(A){return A=A|0,W(4)|0?1:(y(V(d+1|0)|0,V(d+3|0)|0),d=d+5|0,0)}function U(A){return A=A|0,W(8)|0?1:(E(V(d+1|0)|0,V(d+3|0)|0,V(d+5|0)|0,V(d+7|0)|0),d=d+9|0,0)}function f(A){return A=A|0,p(-1-(A-32|0)|0),d=d+1|0,0}function n(A){return A=A|0,W(1)|0?1:(p(-1-(u[d+1|0]|0)|0),d=d+2|0,0)}function s(A){A=A|0;var it=0;return W(2)|0?1:(it=V(d+1|0)|0,p(-1-(it|0)|0),d=d+3|0,0)}function h(A){return A=A|0,W(4)|0?1:(c(V(d+1|0)|0,V(d+3|0)|0),d=d+5|0,0)}function g(A){return A=A|0,W(8)|0?1:(I(V(d+1|0)|0,V(d+3|0)|0,V(d+5|0)|0,V(d+7|0)|0),d=d+9|0,0)}function b(A){A=A|0;var it=0,ct=0,yt=0;return yt=A-64|0,W(yt|0)|0?1:(it=d+1|0,ct=(d+1|0)+(yt|0)|0,dt(it|0,ct|0),d=ct|0,0)}function v(A){A=A|0;var it=0,ct=0,yt=0;return W(1)|0||(yt=u[d+1|0]|0,it=d+2|0,ct=(d+2|0)+(yt|0)|0,W(yt+1|0)|0)?1:(dt(it|0,ct|0),d=ct|0,0)}function D(A){A=A|0;var it=0,ct=0,yt=0;return W(2)|0||(yt=V(d+1|0)|0,it=d+3|0,ct=(d+3|0)+(yt|0)|0,W(yt+2|0)|0)?1:(dt(it|0,ct|0),d=ct|0,0)}function q(A){A=A|0;var it=0,ct=0,yt=0;return W(4)|0||(yt=w(d+1|0)|0,it=d+5|0,ct=(d+5|0)+(yt|0)|0,W(yt+4|0)|0)?1:(dt(it|0,ct|0),d=ct|0,0)}function j(A){return A=A|0,1}function ot(A){return A=A|0,Ut(),d=d+1|0,0}function l(A){A=A|0;var it=0,ct=0,yt=0;return yt=A-96|0,W(yt|0)|0?1:(it=d+1|0,ct=(d+1|0)+(yt|0)|0,St(it|0,ct|0),d=ct|0,0)}function o(A){A=A|0;var it=0,ct=0,yt=0;return W(1)|0||(yt=u[d+1|0]|0,it=d+2|0,ct=(d+2|0)+(yt|0)|0,W(yt+1|0)|0)?1:(St(it|0,ct|0),d=ct|0,0)}function a(A){A=A|0;var it=0,ct=0,yt=0;return W(2)|0||(yt=V(d+1|0)|0,it=d+3|0,ct=(d+3|0)+(yt|0)|0,W(yt+2|0)|0)?1:(St(it|0,ct|0),d=ct|0,0)}function x(A){A=A|0;var it=0,ct=0,yt=0;return W(4)|0||(yt=w(d+1|0)|0,it=d+5|0,ct=(d+5|0)+(yt|0)|0,W(yt+4|0)|0)?1:(St(it|0,ct|0),d=ct|0,0)}function T(A){return A=A|0,1}function L(A){return A=A|0,zt(),d=d+1|0,0}function R(A){return A=A|0,J(A-128|0),d=d+1|0,0}function nt(A){return A=A|0,W(1)|0?1:(J(u[d+1|0]|0),d=d+2|0,0)}function xt(A){return A=A|0,W(2)|0?1:(J(V(d+1|0)|0),d=d+3|0,0)}function at(A){return A=A|0,W(4)|0?1:(Z(V(d+1|0)|0,V(d+3|0)|0),d=d+5|0,0)}function st(A){return A=A|0,W(8)|0?1:(ut(V(d+1|0)|0,V(d+3|0)|0,V(d+5|0)|0,V(d+7|0)|0),d=d+9|0,0)}function It(A){return A=A|0,X(),d=d+1|0,0}function Lt(A){A=A|0;var it=0;return it=A-160|0,W(it|0)|0?1:(C(it|0),d=d+1|0,0)}function Pr(A){return A=A|0,W(1)|0?1:(C(u[d+1|0]|0),d=d+2|0,0)}function Ct(A){return A=A|0,W(2)|0?1:(C(V(d+1|0)|0),d=d+3|0,0)}function de(A){return A=A|0,W(4)|0?1:(_t(V(d+1|0)|0,V(d+3|0)|0),d=d+5|0,0)}function kr(A){return A=A|0,W(8)|0?1:(mt(V(d+1|0)|0,V(d+3|0)|0,V(d+5|0)|0,V(d+7|0)|0),d=d+9|0,0)}function rr(A){return A=A|0,gt(),d=d+1|0,0}function se(A){return A=A|0,K(A-192|0|0),d=d+1|0,0}function Hr(A){return A=A|0,K(A|0),d=d+1|0,0}function Gr(A){return A=A|0,K(A|0),d=d+1|0,0}function Qn(A){return A=A|0,K(A|0),d=d+1|0,0}function $r(A){return A=A|0,K(A|0),d=d+1|0,0}function Dt(A){return A=A|0,K(A-192|0|0),d=d+1|0,0}function ti(A){return A=A|0,K(A|0),d=d+1|0,0}function Qt(A){return A=A|0,K(A|0),d=d+1|0,0}function Ge(A){return A=A|0,K(A|0),d=d+1|0,0}function nr(A){return A=A|0,W(1)|0?1:(K(u[d+1|0]|0),d=d+2|0,0)}function ir(A){return A=A|0,W(2)|0?1:(K(V(d+1|0)|0),d=d+3|0,0)}function sr(A){return A=A|0,W(4)|0?1:(k(V(d+1|0)|0,V(d+3|0)|0),d=d+5|0,0)}function or(A){return A=A|0,W(8)|0?1:(Y(V(d+1|0)|0,V(d+3|0)|0,V(d+5|0)|0,V(d+7|0)|0),d=d+9|0,0)}function Nt(A){return A=A|0,Ot((A|0)-224|0),d=d+1|0,0}function ar(A){return A=A|0,rt(),d=d+1|0,0}function ur(A){return A=A|0,M(),d=d+1|0,0}function cr(A){return A=A|0,ft(),d=d+1|0,0}function fr(A){return A=A|0,et(),d=d+1|0,0}function zr(A){return A=A|0,W(1)|0?1:(Ot(u[d+1|0]|0),d=d+2|0,0)}function tt(A){A=A|0;var it=0,ct=0,yt=1,Pt=0,ge=0,Wr=0;return W(2)|0?1:(it=u[d+1|0]|0,ct=u[d+2|0]|0,(it|0)&128&&(yt=-1),Pt=+(((it|0)&124)>>2),ge=+(((it|0)&3)<<8|ct),+Pt==0?F(+(+yt*5960464477539063e-23*+ge)):+Pt==31?+yt==1?+ge>0?Q():Tt():+ge>0?Bt():lt():F(+(+yt*ht(2,+(+Pt-25))*+(1024+ge))),d=d+3|0,0)}function B(A){return A=A|0,W(4)|0?1:(O(u[d+1|0]|0,u[d+2|0]|0,u[d+3|0]|0,u[d+4|0]|0),d=d+5|0,0)}function G(A){return A=A|0,W(8)|0?1:(P(u[d+1|0]|0,u[d+2|0]|0,u[d+3|0]|0,u[d+4|0]|0,u[d+5|0]|0,u[d+6|0]|0,u[d+7|0]|0,u[d+8|0]|0),d=d+9|0,0)}function $(A){return A=A|0,1}function Ft(A){return A=A|0,H(),d=d+1|0,0}var Gt=[m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,_,N,S,U,$,$,$,$,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,n,s,h,g,$,$,$,$,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,v,D,q,j,$,$,$,ot,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,o,a,x,T,$,$,$,L,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,nt,xt,at,st,$,$,$,It,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Pr,Ct,de,kr,$,$,$,rr,se,se,se,se,se,se,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,nr,ir,sr,or,$,$,$,$,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,ar,ur,cr,fr,zr,tt,B,G,$,$,$,Ft];return{parse:bt}},Mr={},Wt={};const On=Dr.BigNumber;Wt.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Wt.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Wt.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Wt.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Wt.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Wt.SHIFT32=Math.pow(2,32);Wt.SHIFT16=Math.pow(2,16);Wt.MAX_SAFE_HIGH=2097151;Wt.NEG_ONE=new On(-1);Wt.TEN=new On(10);Wt.TWO=new On(2);Wt.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(e){const{Buffer:t}=tr,r=Dr.BigNumber,i=Wt,u=i.SHIFT32,p=i.SHIFT16,y=2097151;e.parseHalf=function(I){var F,O,P;return P=I[0]&128?-1:1,F=(I[0]&124)>>2,O=(I[0]&3)<<8|I[1],F?F===31?P*(O?NaN:1/0):P*Math.pow(2,F-25)*(1024+O):P*5960464477539063e-23*O};function c(E){return E<16?"0"+E.toString(16):E.toString(16)}e.arrayBufferToBignumber=function(E){const I=E.byteLength;let F="";for(let O=0;O<I;O++)F+=c(E[O]);return new r(F,16)},e.buildMap=E=>{const I=new Map,F=Object.keys(E),O=F.length;for(let P=0;P<O;P++)I.set(F[P],E[F[P]]);return I},e.buildInt32=(E,I)=>E*p+I,e.buildInt64=(E,I,F,O)=>{const P=e.buildInt32(E,I),M=e.buildInt32(F,O);return P>y?new r(P).times(u).plus(M):P*u+M},e.writeHalf=function(I,F){const O=t.allocUnsafe(4);O.writeFloatBE(F,0);const P=O.readUInt32BE(0);if(P&8191)return!1;var M=P>>16&32768;const rt=P>>23&255,et=P&8388607;if(rt>=113&&rt<=142)M+=(rt-112<<10)+(et>>13);else if(rt>=103&&rt<113){if(et&(1<<126-rt)-1)return!1;M+=et+8388608>>126-rt}else return!1;return I.writeUInt16BE(M,0),!0},e.keySorter=function(E,I){var F=E[0].byteLength,O=I[0].byteLength;return F>O?1:O>F?-1:E[0].compare(I[0])},e.isNegativeZero=E=>E===0&&1/E<0,e.nextPowerOf2=E=>{let I=0;if(E&&!(E&E-1))return E;for(;E!==0;)E>>=1,I+=1;return 1<<I}})(Mr);const Dn=Wt,Co=Dn.MT,hr=Dn.SIMPLE,jr=Dn.SYMS;let Po=class dn{constructor(t){if(typeof t!="number")throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(t|0)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(t){return t._pushInt(this.value,Co.SIMPLE_FLOAT)}static isSimple(t){return t instanceof dn}static decode(t,r){switch(r==null&&(r=!0),t){case hr.FALSE:return!1;case hr.TRUE:return!0;case hr.NULL:return r?null:jr.NULL;case hr.UNDEFINED:return r?void 0:jr.UNDEFINED;case-1:if(!r)throw new Error("Invalid BREAK");return jr.BREAK;default:return new dn(t)}}};var ss=Po;let ko=class gn{constructor(t,r,i){if(this.tag=t,this.value=r,this.err=i,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var r,i;if(i=t?.[this.tag],typeof i!="function"&&(i=gn["_tag"+this.tag],typeof i!="function"))return this;try{return i.call(gn,this.value)}catch(u){return r=u,this.err=r,this}}};var os=ko;const as=self.location?self.location.protocol+"//"+self.location.host:"",wn=self.URL;let Ho=class{constructor(t="",r=as){this.super=new wn(t,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set origin(t){this.super.origin=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set searchParams(t){this.super.searchParams=t}set username(t){this.super.username=t}createObjectURL(t){return this.super.createObjectURL(t)}revokeObjectURL(t){this.super.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function Go(e){if(typeof e=="string")return new wn(e).toString();if(!(e instanceof wn)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",i=e.port?":"+e.port:"",u=e.protocol?e.protocol+"//":"",p=e.host||"",y=e.hostname||"",c=e.search||(e.query?"?"+e.query:""),E=e.hash||"",I=e.pathname||"",F=e.path||I+c;return`${u}${t||r}${p||y+i}${F}${E}`}}var us={URLWithLegacySupport:Ho,URLSearchParams:self.URLSearchParams,defaultBase:as,format:Go};const{URLWithLegacySupport:ai,format:$o}=us;var zo=(e,t={},r={},i)=>{let u=t.protocol?t.protocol.replace(":",""):"http";u=(r[u]||i||u)+":";let p;try{p=new ai(e)}catch{p={}}const y=Object.assign({},t,{protocol:u||p.protocol,host:t.host||p.host});return new ai(e,$o(y)).toString()};const{URLWithLegacySupport:Wo,format:Yo,URLSearchParams:Ko,defaultBase:qo}=us,Vo=zo;var cs={URL:Wo,URLSearchParams:Ko,format:Yo,relative:Vo,defaultBase:qo};const{Buffer:Le}=tr,ui=Ze,jo=Dr.BigNumber,Xo=Mo,Yt=Mr,vt=Wt,Jo=ss,Zo=os,{URL:Qo}=cs;let yn=class mn{constructor(t){t=t||{},!t.size||t.size<65536?t.size=65536:t.size=Yt.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._buffer=Le.from(this._heap),this._reset(),this._knownTags=Object.assign({0:r=>new Date(r),1:r=>new Date(r*1e3),2:r=>Yt.arrayBufferToBignumber(r),3:r=>vt.NEG_ONE.minus(Yt.arrayBufferToBignumber(r)),4:r=>vt.TEN.pow(r[0]).times(r[1]),5:r=>vt.TWO.pow(r[0]).times(r[1]),32:r=>new Qo(r),35:r=>new RegExp(r)},t.tags),this.parser=Xo(Pe,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var t=this._parents.pop();if(t.length>0)throw new Error(`Missing ${t.length} elements`);switch(t.type){case vt.PARENT.TAG:this._push(this.createTag(t.ref[0],t.ref[1]));break;case vt.PARENT.BYTE_STRING:this._push(this.createByteString(t.ref,t.length));break;case vt.PARENT.UTF8_STRING:this._push(this.createUtf8String(t.ref,t.length));break;case vt.PARENT.MAP:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(t.ref,t.length));break;case vt.PARENT.OBJECT:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(t.ref,t.length));break;case vt.PARENT.ARRAY:this._push(this.createArray(t.ref,t.length));break}this._currentParent&&this._currentParent.type===vt.PARENT.TAG&&this._dec()}_dec(){const t=this._currentParent;t.length<0||(t.length--,t.length===0&&this._closeParent())}_push(t,r){const i=this._currentParent;switch(i.values++,i.type){case vt.PARENT.ARRAY:case vt.PARENT.BYTE_STRING:case vt.PARENT.UTF8_STRING:i.length>-1?this._ref[this._ref.length-i.length]=t:this._ref.push(t),this._dec();break;case vt.PARENT.OBJECT:i.tmpKey!=null?(this._ref[i.tmpKey]=t,i.tmpKey=null,this._dec()):(i.tmpKey=t,typeof i.tmpKey!="string"&&(i.type=vt.PARENT.MAP,i.ref=Yt.buildMap(i.ref)));break;case vt.PARENT.MAP:i.tmpKey!=null?(this._ref.set(i.tmpKey,t),i.tmpKey=null,this._dec()):i.tmpKey=t;break;case vt.PARENT.TAG:this._ref.push(t),r||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(t,r,i){this._parents[this._depth]={type:r,length:i,ref:t,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:vt.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(t,r){const i=this._knownTags[t];return i?i(r):new Zo(t,r)}createMap(t,r){return t}createObject(t,r){return t}createArray(t,r){return t}createByteString(t,r){return Le.concat(t)}createByteStringFromHeap(t,r){return t===r?Le.alloc(0):Le.from(this._heap.slice(t,r))}createInt(t){return t}createInt32(t,r){return Yt.buildInt32(t,r)}createInt64(t,r,i,u){return Yt.buildInt64(t,r,i,u)}createFloat(t){return t}createFloatSingle(t,r,i,u){return ui.read([t,r,i,u],0,!1,23,4)}createFloatDouble(t,r,i,u,p,y,c,E){return ui.read([t,r,i,u,p,y,c,E],0,!1,52,8)}createInt32Neg(t,r){return-1-Yt.buildInt32(t,r)}createInt64Neg(t,r,i,u){const p=Yt.buildInt32(t,r),y=Yt.buildInt32(i,u);return p>vt.MAX_SAFE_HIGH?vt.NEG_ONE.minus(new jo(p).times(vt.SHIFT32).plus(y)):-1-(p*vt.SHIFT32+y)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(t,r){return t.join("")}createUtf8StringFromHeap(t,r){return t===r?"":this._buffer.toString("utf8",t,r)}createSimpleUnassigned(t){return new Jo(t)}pushInt(t){this._push(this.createInt(t))}pushInt32(t,r){this._push(this.createInt32(t,r))}pushInt64(t,r,i,u){this._push(this.createInt64(t,r,i,u))}pushFloat(t){this._push(this.createFloat(t))}pushFloatSingle(t,r,i,u){this._push(this.createFloatSingle(t,r,i,u))}pushFloatDouble(t,r,i,u,p,y,c,E){this._push(this.createFloatDouble(t,r,i,u,p,y,c,E))}pushInt32Neg(t,r){this._push(this.createInt32Neg(t,r))}pushInt64Neg(t,r,i,u){this._push(this.createInt64Neg(t,r,i,u))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],vt.PARENT.ARRAY,-1)}pushArrayStartFixed(t){this._createArrayStartFixed(t)}pushArrayStartFixed32(t,r){const i=Yt.buildInt32(t,r);this._createArrayStartFixed(i)}pushArrayStartFixed64(t,r,i,u){const p=Yt.buildInt64(t,r,i,u);this._createArrayStartFixed(p)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(t){this._createObjectStartFixed(t)}pushObjectStartFixed32(t,r){const i=Yt.buildInt32(t,r);this._createObjectStartFixed(i)}pushObjectStartFixed64(t,r,i,u){const p=Yt.buildInt64(t,r,i,u);this._createObjectStartFixed(p)}pushByteStringStart(){this._parents[this._depth]={type:vt.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(t,r){this._push(this.createByteStringFromHeap(t,r))}pushUtf8StringStart(){this._parents[this._depth]={type:vt.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(t,r){this._push(this.createUtf8StringFromHeap(t,r))}pushSimpleUnassigned(t){this._push(this.createSimpleUnassigned(t))}pushTagStart(t){this._parents[this._depth]={type:vt.PARENT.TAG,length:1,ref:[t]}}pushTagStart4(t,r){this.pushTagStart(Yt.buildInt32(t,r))}pushTagStart8(t,r,i,u){this.pushTagStart(Yt.buildInt64(t,r,i,u))}pushTagUnassigned(t){this._push(this.createTag(t))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(t){if(t===0){this._push(this.createObject({}));return}this._createParent({},vt.PARENT.OBJECT,t)}_createArrayStartFixed(t){if(t===0){this._push(this.createArray([]));return}this._createParent(new Array(t),vt.PARENT.ARRAY,t)}_decode(t){if(t.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(t);const r=this.parser.parse(t.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(r>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(t){return this._decode(t),this._res[0]}decodeAll(t){return this._decode(t),this._res}static decode(t,r){return typeof t=="string"&&(t=Le.from(t,r||"hex")),new mn({size:t.length}).decodeFirst(t)}static decodeAll(t,r){return typeof t=="string"&&(t=Le.from(t,r||"hex")),new mn({size:t.length}).decodeAll(t)}};yn.decodeFirst=yn.decode;var fs=yn;const{Buffer:Xr}=tr,ta=fs,ea=Mr;class Mn extends ta{createTag(t,r){return`${t}(${r})`}createInt(t){return super.createInt(t).toString()}createInt32(t,r){return super.createInt32(t,r).toString()}createInt64(t,r,i,u){return super.createInt64(t,r,i,u).toString()}createInt32Neg(t,r){return super.createInt32Neg(t,r).toString()}createInt64Neg(t,r,i,u){return super.createInt64Neg(t,r,i,u).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(t){const r=super.createFloat(t);return ea.isNegativeZero(t)?"-0_1":`${r}_1`}createFloatSingle(t,r,i,u){return`${super.createFloatSingle(t,r,i,u)}_2`}createFloatDouble(t,r,i,u,p,y,c,E){return`${super.createFloatDouble(t,r,i,u,p,y,c,E)}_3`}createByteString(t,r){const i=t.join(", ");return r===-1?`(_ ${i})`:`h'${i}`}createByteStringFromHeap(t,r){return`h'${Xr.from(super.createByteStringFromHeap(t,r)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(t){return`simple(${t})`}createArray(t,r){const i=super.createArray(t,r);return r===-1?`[_ ${i.join(", ")}]`:`[${i.join(", ")}]`}createMap(t,r){const i=super.createMap(t),u=Array.from(i.keys()).reduce(ci(i),"");return r===-1?`{_ ${u}}`:`{${u}}`}createObject(t,r){const i=super.createObject(t),u=Object.keys(i).reduce(ci(i),"");return r===-1?`{_ ${u}}`:`{${u}}`}createUtf8String(t,r){const i=t.join(", ");return r===-1?`(_ ${i})`:`"${i}"`}createUtf8StringFromHeap(t,r){return`"${Xr.from(super.createUtf8StringFromHeap(t,r)).toString("utf8")}"`}static diagnose(t,r){return typeof t=="string"&&(t=Xr.from(t,r||"hex")),new Mn().decodeFirst(t)}}var ra=Mn;function ci(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}const{Buffer:ue}=tr,{URL:na}=cs,xn=Dr.BigNumber,Jr=Mr,Ht=Wt,te=Ht.MT,pr=Ht.NUMBYTES,fi=Ht.SHIFT32,li=Ht.SYMS,Oe=Ht.TAG,ia=Ht.MT.SIMPLE_FLOAT<<5|Ht.NUMBYTES.TWO,sa=Ht.MT.SIMPLE_FLOAT<<5|Ht.NUMBYTES.FOUR,oa=Ht.MT.SIMPLE_FLOAT<<5|Ht.NUMBYTES.EIGHT,aa=Ht.MT.SIMPLE_FLOAT<<5|Ht.SIMPLE.TRUE,ua=Ht.MT.SIMPLE_FLOAT<<5|Ht.SIMPLE.FALSE,ca=Ht.MT.SIMPLE_FLOAT<<5|Ht.SIMPLE.UNDEFINED,hi=Ht.MT.SIMPLE_FLOAT<<5|Ht.SIMPLE.NULL,fa=new xn("0x20000000000000"),la=ue.from("f97e00","hex"),ha=ue.from("f9fc00","hex"),pa=ue.from("f97c00","hex");function da(e){return{}.toString.call(e).slice(8,-1)}class Br{constructor(t){t=t||{},this.streaming=typeof t.stream=="function",this.onData=t.stream,this.semanticTypes=[[na,this._pushUrl],[xn,this._pushBigNumber]];const r=t.genTypes||[],i=r.length;for(let u=0;u<i;u++)this.addSemanticType(r[u][0],r[u][1]);this._reset()}addSemanticType(t,r){const i=this.semanticTypes.length;for(let u=0;u<i;u++)if(this.semanticTypes[u][0]===t){const y=this.semanticTypes[u][1];return this.semanticTypes[u][1]=r,y}return this.semanticTypes.push([t,r]),null}push(t){return t&&(this.result[this.offset]=t,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=t.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(t,r,i){return this.result[this.offset]=t,this.resultMethod[this.offset]=r,this.resultLength[this.offset]=i,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(t){return this.pushWrite(t,1,1)}_pushUInt16BE(t){return this.pushWrite(t,2,2)}_pushUInt32BE(t){return this.pushWrite(t,3,4)}_pushDoubleBE(t){return this.pushWrite(t,4,8)}_pushNaN(){return this.push(la)}_pushInfinity(t){const r=t<0?ha:pa;return this.push(r)}_pushFloat(t){const r=ue.allocUnsafe(2);if(Jr.writeHalf(r,t)&&Jr.parseHalf(r)===t)return this._pushUInt8(ia)&&this.push(r);const i=ue.allocUnsafe(4);return i.writeFloatBE(t,0),i.readFloatBE(0)===t?this._pushUInt8(sa)&&this.push(i):this._pushUInt8(oa)&&this._pushDoubleBE(t)}_pushInt(t,r,i){const u=r<<5;return t<24?this._pushUInt8(u|t):t<=255?this._pushUInt8(u|pr.ONE)&&this._pushUInt8(t):t<=65535?this._pushUInt8(u|pr.TWO)&&this._pushUInt16BE(t):t<=4294967295?this._pushUInt8(u|pr.FOUR)&&this._pushUInt32BE(t):t<=Number.MAX_SAFE_INTEGER?this._pushUInt8(u|pr.EIGHT)&&this._pushUInt32BE(Math.floor(t/fi))&&this._pushUInt32BE(t%fi):r===te.NEG_INT?this._pushFloat(i):this._pushFloat(t)}_pushIntNum(t){return t<0?this._pushInt(-t-1,te.NEG_INT,t):this._pushInt(t,te.POS_INT)}_pushNumber(t){switch(!1){case t===t:return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case t%1!==0:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const r=ue.byteLength(t,"utf8");return this._pushInt(r,te.UTF8_STRING)&&this.pushWrite(t,5,r)}_pushBoolean(t){return this._pushUInt8(t?aa:ua)}_pushUndefined(t){return this._pushUInt8(ca)}_pushArray(t,r){const i=r.length;if(!t._pushInt(i,te.ARRAY))return!1;for(let u=0;u<i;u++)if(!t.pushAny(r[u]))return!1;return!0}_pushTag(t){return this._pushInt(t,te.TAG)}_pushDate(t,r){return t._pushTag(Oe.DATE_EPOCH)&&t.pushAny(Math.round(r/1e3))}_pushBuffer(t,r){return t._pushInt(r.length,te.BYTE_STRING)&&t.push(r)}_pushNoFilter(t,r){return t._pushBuffer(t,r.slice())}_pushRegexp(t,r){return t._pushTag(Oe.REGEXP)&&t.pushAny(r.source)}_pushSet(t,r){if(!t._pushInt(r.size,te.ARRAY))return!1;for(const i of r)if(!t.pushAny(i))return!1;return!0}_pushUrl(t,r){return t._pushTag(Oe.URI)&&t.pushAny(r.format())}_pushBigint(t){let r=Oe.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),r=Oe.NEG_BIGINT);let i=t.toString(16);i.length%2&&(i="0"+i);const u=ue.from(i,"hex");return this._pushTag(r)&&this._pushBuffer(this,u)}_pushBigNumber(t,r){if(r.isNaN())return t._pushNaN();if(!r.isFinite())return t._pushInfinity(r.isNegative()?-1/0:1/0);if(r.isInteger())return t._pushBigint(r);if(!(t._pushTag(Oe.DECIMAL_FRAC)&&t._pushInt(2,te.ARRAY)))return!1;const i=r.decimalPlaces(),u=r.multipliedBy(new xn(10).pow(i));return t._pushIntNum(-i)?u.abs().isLessThan(fa)?t._pushIntNum(u.toNumber()):t._pushBigint(u):!1}_pushMap(t,r){return t._pushInt(r.size,te.MAP)?this._pushRawMap(r.size,Array.from(r)):!1}_pushObject(t){if(!t)return this._pushUInt8(hi);for(var r=this.semanticTypes.length,i=0;i<r;i++)if(t instanceof this.semanticTypes[i][0])return this.semanticTypes[i][1].call(t,this,t);var u=t.encodeCBOR;if(typeof u=="function")return u.call(t,this);var p=Object.keys(t),y=p.length;return this._pushInt(y,te.MAP)?this._pushRawMap(y,p.map(c=>[c,t[c]])):!1}_pushRawMap(t,r){r=r.map(function(u){return u[0]=Br.encode(u[0]),u}).sort(Jr.keySorter);for(var i=0;i<t;i++)if(!this.push(r[i][0])||!this.pushAny(r[i][1]))return!1;return!0}write(t){return this.pushAny(t)}pushAny(t){var r=da(t);switch(r){case"Number":return this._pushNumber(t);case"String":return this._pushString(t);case"Boolean":return this._pushBoolean(t);case"Object":return this._pushObject(t);case"Array":return this._pushArray(this,t);case"Uint8Array":return this._pushBuffer(this,ue.isBuffer(t)?t:ue.from(t));case"Null":return this._pushUInt8(hi);case"Undefined":return this._pushUndefined(t);case"Map":return this._pushMap(this,t);case"Set":return this._pushSet(this,t);case"URL":return this._pushUrl(this,t);case"BigNumber":return this._pushBigNumber(this,t);case"Date":return this._pushDate(this,t);case"RegExp":return this._pushRegexp(this,t);case"Symbol":switch(t){case li.NULL:return this._pushObject(null);case li.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error("Unknown type: "+typeof t+", "+(t?t.toString():""))}}finalize(){if(this.offset===0)return null;for(var t=this.result,r=this.resultLength,i=this.resultMethod,u=this.offset,p=0,y=0;y<u;y++)p+=r[y];var c=ue.allocUnsafe(p),E=0,I=0;for(y=0;y<u;y++){switch(I=r[y],i[y]){case 0:t[y].copy(c,E);break;case 1:c.writeUInt8(t[y],E,!0);break;case 2:c.writeUInt16BE(t[y],E,!0);break;case 3:c.writeUInt32BE(t[y],E,!0);break;case 4:c.writeDoubleBE(t[y],E,!0);break;case 5:c.write(t[y],E,I,"utf8");break;default:throw new Error("unkown method")}E+=I}var F=c;return this._reset(),F}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(t){const r=new Br;if(!r.pushAny(t))throw new Error("Failed to encode input");return r.finalize()}}var ga=Br;(function(e){e.Diagnose=ra,e.Decoder=fs,e.Encoder=ga,e.Simple=ss,e.Tagged=os,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}})(ns);const ls=Vs(ns);function je(...e){const t=new Uint8Array(e.reduce((i,u)=>i+u.byteLength,0));let r=0;for(const i of e)t.set(new Uint8Array(i),r),r+=i.byteLength;return t.buffer}function Ce(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}const wa=new RegExp(/^[0-9a-fA-F]+$/);function Be(e){if(!wa.test(e))throw new Error("Invalid hexadecimal string.");const t=[...e].reduce((r,i,u)=>(r[u/2|0]=(r[u/2|0]||"")+i,r),[]).map(r=>Number.parseInt(r,16));return new Uint8Array(t).buffer}function hs(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;const r=new Uint8Array(e),i=new Uint8Array(t);for(let u=0;u<r.length;u++)if(r[u]!==i[u])return r[u]-i[u];return 0}function ps(e,t){return hs(e,t)===0}function Ve(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function ds(e){return e instanceof Uint8Array?Ve(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Ve(new Uint8Array(e)):"buffer"in e?ds(e.buffer):Ve(new Uint8Array(e))}function Fe(e){return Ve(To.create().update(new Uint8Array(e)).digest())}function xr(e){if(e instanceof ls.Tagged)return xr(e.value);if(typeof e=="string")return gs(e);if(typeof e=="number")return Fe(si(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return Fe(e);if(Array.isArray(e)){const t=e.map(xr);return Fe(je(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return Fe(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return xr(e.toHash());if(typeof e=="object")return ws(e);if(typeof e=="bigint")return Fe(si(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const gs=e=>{const t=new TextEncoder().encode(e);return Fe(t)};function Cn(e){return ws(e)}function ws(e){const i=Object.entries(e).filter(([,y])=>y!==void 0).map(([y,c])=>{const E=gs(y),I=xr(c);return[E,I]}).sort(([y],[c])=>hs(y,c)),u=je(...i.map(y=>je(...y)));return Fe(u)}var ya=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(r[i[u]]=e[i[u]]);return r};const ma=new TextEncoder().encode(`
ic-request`);class Pn{getPrincipal(){return this._principal||(this._principal=Se.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(t){const{body:r}=t,i=ya(t,["body"]),u=await Cn(r);return Object.assign(Object.assign({},i),{body:{content:r,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(je(ma,u))}})}}class pi{getPrincipal(){return Se.anonymous()}async transformRequest(t){return Object.assign(Object.assign({},t),{body:{content:t.body}})}}var jt={},He={},Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});const xa=9007199254740992;function pe(e,...t){const r=new Uint8Array(e.byteLength+t.reduce((u,p)=>u+p.byteLength,0));r.set(new Uint8Array(e),0);let i=e.byteLength;for(const u of t)r.set(new Uint8Array(u),i),i+=u.byteLength;return r.buffer}function ie(e,t,r){r=r.replace(/[^0-9a-fA-F]/g,"");const i=2**(t-24);r=r.slice(-i*2).padStart(i*2,"0");const u=[(e<<5)+t].concat(r.match(/../g).map(p=>parseInt(p,16)));return new Uint8Array(u).buffer}function Cr(e,t){if(t<24)return new Uint8Array([(e<<5)+t]).buffer;{const r=t<=255?24:t<=65535?25:t<=4294967295?26:27;return ie(e,r,t.toString(16))}}function ys(e){const t=[];for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t.push(i):i<2048?t.push(192|i>>6,128|i&63):i<55296||i>=57344?t.push(224|i>>12,128|i>>6&63,128|i&63):(r++,i=(i&1023)<<10|e.charCodeAt(r)&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63))}return pe(new Uint8Array(Cr(3,e.length)),new Uint8Array(t))}function Ea(e,t){if(e==14277111)return pe(new Uint8Array([217,217,247]),t);if(e<24)return pe(new Uint8Array([192+e]),t);{const r=e<=255?24:e<=65535?25:e<=4294967295?26:27,i=2**(r-24),u=e.toString(16).slice(-i*2).padStart(i*2,"0"),p=[192+r].concat(u.match(/../g).map(y=>parseInt(y,16)));return new Uint8Array(p).buffer}}Rt.tagged=Ea;function er(e){return new Uint8Array(e).buffer}Rt.raw=er;function kn(e){if(isNaN(e))throw new RangeError("Invalid number.");e=Math.min(Math.max(0,e),23);const t=[0+e];return new Uint8Array(t).buffer}Rt.uSmall=kn;function ms(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),255),e=e.toString(16),ie(0,24,e)}Rt.u8=ms;function xs(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),65535),e=e.toString(16),ie(0,25,e)}Rt.u16=xs;function Es(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),4294967295),e=e.toString(16),ie(0,26,e)}Rt.u32=Es;function Hn(e,t){if(typeof e=="string"&&t==16){if(e.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return ie(0,27,e)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),xa),e=e.toString(16),ie(0,27,e)}Rt.u64=Hn;function _s(e){if(isNaN(e))throw new RangeError("Invalid number.");if(e===0)return kn(0);e=Math.min(Math.max(0,-e),24)-1;const t=[32+e];return new Uint8Array(t).buffer}Rt.iSmall=_s;function bs(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),255),e=e.toString(16),ie(1,24,e)}Rt.i8=bs;function As(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),65535),e=e.toString(16),ie(1,25,e)}Rt.i16=As;function Is(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),4294967295),e=e.toString(16),ie(1,26,e)}Rt.i32=Is;function Ts(e,t){if(typeof e=="string"&&t==16){if(e.startsWith("-")?e=e.slice(1):e="0",e.match(/[^0-9a-fA-F]/)||e.length>16)throw new RangeError("Invalid number.");let r=!1,i=e.split("").reduceRight((u,p)=>{if(r)return p+u;let y=parseInt(p,16)-1;return y>=0?(r=!0,y.toString(16)+u):"f"+u},"");return r?ie(1,27,i):Hn(0)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),9007199254740992),e=e.toString(16),ie(1,27,e)}Rt.i64=Ts;function _a(e){return e>=0?e<24?kn(e):e<=255?ms(e):e<=65535?xs(e):e<=4294967295?Es(e):Hn(e):e>=-24?_s(e):e>=-255?bs(e):e>=-65535?As(e):e>=-4294967295?Is(e):Ts(e)}Rt.number=_a;function ba(e){return pe(Cr(2,e.byteLength),e)}Rt.bytes=ba;function Aa(e){return ys(e)}Rt.string=Aa;function Ia(e){return pe(Cr(4,e.length),...e)}Rt.array=Ia;function Ta(e,t=!1){e instanceof Map||(e=new Map(Object.entries(e)));let r=Array.from(e.entries());return t&&(r=r.sort(([i],[u])=>i.localeCompare(u))),pe(Cr(5,e.size),...r.map(([i,u])=>pe(ys(i),u)))}Rt.map=Ta;function Sa(e){const t=new Float32Array([e]);return pe(new Uint8Array([250]),new Uint8Array(t.buffer))}Rt.singleFloat=Sa;function Ba(e){const t=new Float64Array([e]);return pe(new Uint8Array([251]),new Uint8Array(t.buffer))}Rt.doubleFloat=Ba;function Na(e){return e?Ss():Bs()}Rt.bool=Na;function Ss(){return er(new Uint8Array([245]))}Rt.true_=Ss;function Bs(){return er(new Uint8Array([244]))}Rt.false_=Bs;function Ua(){return er(new Uint8Array([246]))}Rt.null_=Ua;function Fa(){return er(new Uint8Array([247]))}Rt.undefined_=Fa;var va=Pe&&Pe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(He,"__esModule",{value:!0});const re=va(Rt),Ra=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class Ns{constructor(t,r=!1){this._serializer=t,this._stable=r,this.name="jsonDefault",this.priority=-100}match(t){return["undefined","boolean","number","string","object"].indexOf(typeof t)!=-1}encode(t){switch(typeof t){case"undefined":return re.undefined_();case"boolean":return re.bool(t);case"number":return Math.floor(t)===t?re.number(t):re.doubleFloat(t);case"string":return re.string(t);case"object":if(t===null)return re.null_();if(Array.isArray(t))return re.array(t.map(r=>this._serializer.serializeValue(r)));if(Ra.find(r=>t instanceof r))return re.bytes(t.buffer);if(Object.getOwnPropertyNames(t).indexOf("toJSON")!==-1)return this.encode(t.toJSON());if(t instanceof Map){const r=new Map;for(const[i,u]of t.entries())r.set(i,this._serializer.serializeValue(u));return re.map(r,this._stable)}else{const r=new Map;for(const[i,u]of Object.entries(t))r.set(i,this._serializer.serializeValue(u));return re.map(r,this._stable)}default:throw new Error("Invalid value.")}}}He.JsonDefaultCborEncoder=Ns;class Us{constructor(){this.name="cborEncoder",this.priority=-90}match(t){return typeof t=="object"&&typeof t.toCBOR=="function"}encode(t){return t.toCBOR()}}He.ToCborEncoder=Us;class Fs{constructor(){this._encoders=new Set}static withDefaultEncoders(t=!1){const r=new this;return r.addEncoder(new Ns(r,t)),r.addEncoder(new Us),r}removeEncoder(t){for(const r of this._encoders.values())r.name==t&&this._encoders.delete(r)}addEncoder(t){this._encoders.add(t)}getEncoderFor(t){let r=null;for(const i of this._encoders)(!r||i.priority>r.priority)&&i.match(t)&&(r=i);if(r===null)throw new Error("Could not find an encoder for value.");return r}serializeValue(t){return this.getEncoderFor(t).encode(t)}serialize(t){return this.serializeValue(t)}}He.CborSerializer=Fs;class La extends Fs{serialize(t){return re.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(t))]))}}He.SelfDescribeCborSerializer=La;(function(e){function t(u){for(var p in u)e.hasOwnProperty(p)||(e[p]=u[p])}var r=Pe&&Pe.__importStar||function(u){if(u&&u.__esModule)return u;var p={};if(u!=null)for(var y in u)Object.hasOwnProperty.call(u,y)&&(p[y]=u[y]);return p.default=u,p};Object.defineProperty(e,"__esModule",{value:!0}),t(He);const i=r(Rt);e.value=i})(jt);class Oa{get name(){return"Principal"}get priority(){return 0}match(t){return t&&t._isPrincipal===!0}encode(t){return jt.value.bytes(t.toUint8Array())}}class Da{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return jt.value.bytes(new Uint8Array(t))}}class Ma{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?jt.value.tagged(2,jt.value.bytes(Be(t.toString(16)))):jt.value.tagged(3,jt.value.bytes(Be((BigInt("-1")*t).toString(16))))}}const Gn=jt.SelfDescribeCborSerializer.withDefaultEncoders(!0);Gn.addEncoder(new Oa);Gn.addEncoder(new Da);Gn.addEncoder(new Ma);var di;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(di||(di={}));class Kc extends ls.Decoder{createByteString(t){return je(...t)}createByteStringFromHeap(t,r){return t===r?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,r))}}var gi;(function(e){e.Call="call"})(gi||(gi={}));BigInt(1e6);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const Ca=BigInt(1),Pa=BigInt(2);function $n(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function zn(e){if(!$n(e))throw new Error("Uint8Array expected")}const ka=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Wn(e){zn(e);let t="";for(let r=0;r<e.length;r++)t+=ka[e[r]];return t}function vs(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const fe={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function wi(e){if(e>=fe._0&&e<=fe._9)return e-fe._0;if(e>=fe._A&&e<=fe._F)return e-(fe._A-10);if(e>=fe._a&&e<=fe._f)return e-(fe._a-10)}function Rs(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(r);for(let u=0,p=0;u<r;u++,p+=2){const y=wi(e.charCodeAt(p)),c=wi(e.charCodeAt(p+1));if(y===void 0||c===void 0){const E=e[p]+e[p+1];throw new Error('hex string expected, got non-hex character "'+E+'" at index '+p)}i[u]=y*16+c}return i}function Ha(e){return vs(Wn(e))}function Er(e){return zn(e),vs(Wn(Uint8Array.from(e).reverse()))}function Ls(e,t){return Rs(e.toString(16).padStart(t*2,"0"))}function En(e,t){return Ls(e,t).reverse()}function me(e,t,r){let i;if(typeof t=="string")try{i=Rs(t)}catch(p){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${p}`)}else if($n(t))i=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const u=i.length;if(typeof r=="number"&&u!==r)throw new Error(`${e} expected ${r} bytes, got ${u}`);return i}function yi(...e){let t=0;for(let i=0;i<e.length;i++){const u=e[i];zn(u),t+=u.length}const r=new Uint8Array(t);for(let i=0,u=0;i<e.length;i++){const p=e[i];r.set(p,u),u+=p.length}return r}const Ga=e=>(Pa<<BigInt(e-1))-Ca,$a={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||$n(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Yn(e,t,r={}){const i=(u,p,y)=>{const c=$a[p];if(typeof c!="function")throw new Error(`Invalid validator "${p}", expected function`);const E=e[u];if(!(y&&E===void 0)&&!c(E,e))throw new Error(`Invalid param ${String(u)}=${E} (${typeof E}), expected ${p}`)};for(const[u,p]of Object.entries(t))i(u,p,!1);for(const[u,p]of Object.entries(r))i(u,p,!0);return e}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $t=BigInt(0),Mt=BigInt(1),ve=BigInt(2),za=BigInt(3),_n=BigInt(4),mi=BigInt(5),xi=BigInt(8);BigInt(9);BigInt(16);function kt(e,t){const r=e%t;return r>=$t?r:t+r}function Wa(e,t,r){if(r<=$t||t<$t)throw new Error("Expected power/modulo > 0");if(r===Mt)return $t;let i=Mt;for(;t>$t;)t&Mt&&(i=i*e%r),e=e*e%r,t>>=Mt;return i}function ae(e,t,r){let i=e;for(;t-- >$t;)i*=i,i%=r;return i}function Ei(e,t){if(e===$t||t<=$t)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=kt(e,t),i=t,u=$t,p=Mt;for(;r!==$t;){const c=i/r,E=i%r,I=u-p*c;i=r,r=E,u=p,p=I}if(i!==Mt)throw new Error("invert: does not exist");return kt(u,t)}function Ya(e){const t=(e-Mt)/ve;let r,i,u;for(r=e-Mt,i=0;r%ve===$t;r/=ve,i++);for(u=ve;u<e&&Wa(u,t,e)!==e-Mt;u++);if(i===1){const y=(e+Mt)/_n;return function(E,I){const F=E.pow(I,y);if(!E.eql(E.sqr(F),I))throw new Error("Cannot find square root");return F}}const p=(r+Mt)/ve;return function(c,E){if(c.pow(E,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let I=i,F=c.pow(c.mul(c.ONE,u),r),O=c.pow(E,p),P=c.pow(E,r);for(;!c.eql(P,c.ONE);){if(c.eql(P,c.ZERO))return c.ZERO;let M=1;for(let et=c.sqr(P);M<I&&!c.eql(et,c.ONE);M++)et=c.sqr(et);const rt=c.pow(F,Mt<<BigInt(I-M-1));F=c.sqr(rt),O=c.mul(O,rt),P=c.mul(P,F),I=M}return O}}function Ka(e){if(e%_n===za){const t=(e+Mt)/_n;return function(i,u){const p=i.pow(u,t);if(!i.eql(i.sqr(p),u))throw new Error("Cannot find square root");return p}}if(e%xi===mi){const t=(e-mi)/xi;return function(i,u){const p=i.mul(u,ve),y=i.pow(p,t),c=i.mul(u,y),E=i.mul(i.mul(c,ve),y),I=i.mul(c,i.sub(E,i.ONE));if(!i.eql(i.sqr(I),u))throw new Error("Cannot find square root");return I}}return Ya(e)}const qa=(e,t)=>(kt(e,t)&Mt)===Mt,Va=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ja(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Va.reduce((i,u)=>(i[u]="function",i),t);return Yn(e,r)}function Xa(e,t,r){if(r<$t)throw new Error("Expected power > 0");if(r===$t)return e.ONE;if(r===Mt)return t;let i=e.ONE,u=t;for(;r>$t;)r&Mt&&(i=e.mul(i,u)),u=e.sqr(u),r>>=Mt;return i}function Ja(e,t){const r=new Array(t.length),i=t.reduce((p,y,c)=>e.is0(y)?p:(r[c]=p,e.mul(p,y)),e.ONE),u=e.inv(i);return t.reduceRight((p,y,c)=>e.is0(y)?p:(r[c]=e.mul(p,r[c]),e.mul(p,y)),u),r}function Os(e,t){const r=t!==void 0?t:e.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function Za(e,t,r=!1,i={}){if(e<=$t)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:u,nByteLength:p}=Os(e,t);if(p>2048)throw new Error("Field lengths over 2048 bytes are not supported");const y=Ka(e),c=Object.freeze({ORDER:e,BITS:u,BYTES:p,MASK:Ga(u),ZERO:$t,ONE:Mt,create:E=>kt(E,e),isValid:E=>{if(typeof E!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof E}`);return $t<=E&&E<e},is0:E=>E===$t,isOdd:E=>(E&Mt)===Mt,neg:E=>kt(-E,e),eql:(E,I)=>E===I,sqr:E=>kt(E*E,e),add:(E,I)=>kt(E+I,e),sub:(E,I)=>kt(E-I,e),mul:(E,I)=>kt(E*I,e),pow:(E,I)=>Xa(c,E,I),div:(E,I)=>kt(E*Ei(I,e),e),sqrN:E=>E*E,addN:(E,I)=>E+I,subN:(E,I)=>E-I,mulN:(E,I)=>E*I,inv:E=>Ei(E,e),sqrt:i.sqrt||(E=>y(c,E)),invertBatch:E=>Ja(c,E),cmov:(E,I,F)=>F?I:E,toBytes:E=>r?En(E,p):Ls(E,p),fromBytes:E=>{if(E.length!==p)throw new Error(`Fp.fromBytes: expected ${p}, got ${E.length}`);return r?Er(E):Ha(E)}});return Object.freeze(c)}function Qa(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tu=BigInt(0),Zr=BigInt(1);function eu(e,t){const r=(u,p)=>{const y=p.negate();return u?y:p},i=u=>{const p=Math.ceil(t/u)+1,y=2**(u-1);return{windows:p,windowSize:y}};return{constTimeNegate:r,unsafeLadder(u,p){let y=e.ZERO,c=u;for(;p>tu;)p&Zr&&(y=y.add(c)),c=c.double(),p>>=Zr;return y},precomputeWindow(u,p){const{windows:y,windowSize:c}=i(p),E=[];let I=u,F=I;for(let O=0;O<y;O++){F=I,E.push(F);for(let P=1;P<c;P++)F=F.add(I),E.push(F);I=F.double()}return E},wNAF(u,p,y){const{windows:c,windowSize:E}=i(u);let I=e.ZERO,F=e.BASE;const O=BigInt(2**u-1),P=2**u,M=BigInt(u);for(let rt=0;rt<c;rt++){const et=rt*E;let ft=Number(y&O);y>>=M,ft>E&&(ft-=P,y+=Zr);const Tt=et,lt=et+Math.abs(ft)-1,Q=rt%2!==0,Bt=ft<0;ft===0?F=F.add(r(Q,p[Tt])):I=I.add(r(Bt,p[lt]))}return{p:I,f:F}},wNAFCached(u,p,y,c){const E=u._WINDOW_SIZE||1;let I=p.get(u);return I||(I=this.precomputeWindow(u,E),E!==1&&p.set(u,c(I))),this.wNAF(E,I,y)}}}function ru(e){return ja(e.Fp),Yn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Os(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}Be("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100");const dr=BigInt(2**32-1),bn=BigInt(32);function Ds(e,t=!1){return t?{h:Number(e&dr),l:Number(e>>bn&dr)}:{h:Number(e>>bn&dr)|0,l:Number(e&dr)|0}}function nu(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let u=0;u<e.length;u++){const{h:p,l:y}=Ds(e[u],t);[r[u],i[u]]=[p,y]}return[r,i]}const iu=(e,t)=>BigInt(e>>>0)<<bn|BigInt(t>>>0),su=(e,t,r)=>e>>>r,ou=(e,t,r)=>e<<32-r|t>>>r,au=(e,t,r)=>e>>>r|t<<32-r,uu=(e,t,r)=>e<<32-r|t>>>r,cu=(e,t,r)=>e<<64-r|t>>>r-32,fu=(e,t,r)=>e>>>r-32|t<<64-r,lu=(e,t)=>t,hu=(e,t)=>e,pu=(e,t,r)=>e<<r|t>>>32-r,du=(e,t,r)=>t<<r|e>>>32-r,gu=(e,t,r)=>t<<r-32|e>>>64-r,wu=(e,t,r)=>e<<r-32|t>>>64-r;function yu(e,t,r,i){const u=(t>>>0)+(i>>>0);return{h:e+r+(u/2**32|0)|0,l:u|0}}const mu=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),xu=(e,t,r,i)=>t+r+i+(e/2**32|0)|0,Eu=(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),_u=(e,t,r,i,u)=>t+r+i+u+(e/2**32|0)|0,bu=(e,t,r,i,u)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(u>>>0),Au=(e,t,r,i,u,p)=>t+r+i+u+p+(e/2**32|0)|0,Et={fromBig:Ds,split:nu,toBig:iu,shrSH:su,shrSL:ou,rotrSH:au,rotrSL:uu,rotrBH:cu,rotrBL:fu,rotr32H:lu,rotr32L:hu,rotlSH:pu,rotlSL:du,rotlBH:gu,rotlBL:wu,add:yu,add3L:mu,add3H:xu,add4L:Eu,add4H:_u,add5H:Au,add5L:bu},[Iu,Tu]=Et.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),xe=new Uint32Array(80),Ee=new Uint32Array(80);class Su extends Xi{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:r,Bh:i,Bl:u,Ch:p,Cl:y,Dh:c,Dl:E,Eh:I,El:F,Fh:O,Fl:P,Gh:M,Gl:rt,Hh:et,Hl:ft}=this;return[t,r,i,u,p,y,c,E,I,F,O,P,M,rt,et,ft]}set(t,r,i,u,p,y,c,E,I,F,O,P,M,rt,et,ft){this.Ah=t|0,this.Al=r|0,this.Bh=i|0,this.Bl=u|0,this.Ch=p|0,this.Cl=y|0,this.Dh=c|0,this.Dl=E|0,this.Eh=I|0,this.El=F|0,this.Fh=O|0,this.Fl=P|0,this.Gh=M|0,this.Gl=rt|0,this.Hh=et|0,this.Hl=ft|0}process(t,r){for(let Q=0;Q<16;Q++,r+=4)xe[Q]=t.getUint32(r),Ee[Q]=t.getUint32(r+=4);for(let Q=16;Q<80;Q++){const Bt=xe[Q-15]|0,X=Ee[Q-15]|0,J=Et.rotrSH(Bt,X,1)^Et.rotrSH(Bt,X,8)^Et.shrSH(Bt,X,7),Z=Et.rotrSL(Bt,X,1)^Et.rotrSL(Bt,X,8)^Et.shrSL(Bt,X,7),ut=xe[Q-2]|0,gt=Ee[Q-2]|0,C=Et.rotrSH(ut,gt,19)^Et.rotrBH(ut,gt,61)^Et.shrSH(ut,gt,6),_t=Et.rotrSL(ut,gt,19)^Et.rotrBL(ut,gt,61)^Et.shrSL(ut,gt,6),mt=Et.add4L(Z,_t,Ee[Q-7],Ee[Q-16]),dt=Et.add4H(mt,J,C,xe[Q-7],xe[Q-16]);xe[Q]=dt|0,Ee[Q]=mt|0}let{Ah:i,Al:u,Bh:p,Bl:y,Ch:c,Cl:E,Dh:I,Dl:F,Eh:O,El:P,Fh:M,Fl:rt,Gh:et,Gl:ft,Hh:Tt,Hl:lt}=this;for(let Q=0;Q<80;Q++){const Bt=Et.rotrSH(O,P,14)^Et.rotrSH(O,P,18)^Et.rotrBH(O,P,41),X=Et.rotrSL(O,P,14)^Et.rotrSL(O,P,18)^Et.rotrBL(O,P,41),J=O&M^~O&et,Z=P&rt^~P&ft,ut=Et.add5L(lt,X,Z,Tu[Q],Ee[Q]),gt=Et.add5H(ut,Tt,Bt,J,Iu[Q],xe[Q]),C=ut|0,_t=Et.rotrSH(i,u,28)^Et.rotrBH(i,u,34)^Et.rotrBH(i,u,39),mt=Et.rotrSL(i,u,28)^Et.rotrBL(i,u,34)^Et.rotrBL(i,u,39),dt=i&p^i&c^p&c,Ut=u&y^u&E^y&E;Tt=et|0,lt=ft|0,et=M|0,ft=rt|0,M=O|0,rt=P|0,{h:O,l:P}=Et.add(I|0,F|0,gt|0,C|0),I=c|0,F=E|0,c=p|0,E=y|0,p=i|0,y=u|0;const St=Et.add3L(C,mt,Ut);i=Et.add3H(St,gt,_t,dt),u=St|0}({h:i,l:u}=Et.add(this.Ah|0,this.Al|0,i|0,u|0)),{h:p,l:y}=Et.add(this.Bh|0,this.Bl|0,p|0,y|0),{h:c,l:E}=Et.add(this.Ch|0,this.Cl|0,c|0,E|0),{h:I,l:F}=Et.add(this.Dh|0,this.Dl|0,I|0,F|0),{h:O,l:P}=Et.add(this.Eh|0,this.El|0,O|0,P|0),{h:M,l:rt}=Et.add(this.Fh|0,this.Fl|0,M|0,rt|0),{h:et,l:ft}=Et.add(this.Gh|0,this.Gl|0,et|0,ft|0),{h:Tt,l:lt}=Et.add(this.Hh|0,this.Hl|0,Tt|0,lt|0),this.set(i,u,p,y,c,E,I,F,O,P,M,rt,et,ft,Tt,lt)}roundClean(){xe.fill(0),Ee.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ms=Fn(()=>new Su);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ee=BigInt(0),Vt=BigInt(1),gr=BigInt(2),Bu=BigInt(8),Nu={zip215:!0};function Uu(e){const t=ru(e);return Yn(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Kn(e){const t=Uu(e),{Fp:r,n:i,prehash:u,hash:p,randomBytes:y,nByteLength:c,h:E}=t,I=gr<<BigInt(c*8)-Vt,F=r.create,O=t.uvRatio||((K,k)=>{try{return{isValid:!0,value:r.sqrt(K*r.inv(k))}}catch{return{isValid:!1,value:ee}}}),P=t.adjustScalarBytes||(K=>K),M=t.domain||((K,k,Y)=>{if(k.length||Y)throw new Error("Contexts/pre-hash are not supported");return K}),rt=K=>typeof K=="bigint"&&ee<K,et=(K,k)=>rt(K)&&rt(k)&&K<k,ft=K=>K===ee||et(K,I);function Tt(K,k){if(et(K,k))return K;throw new Error(`Expected valid scalar < ${k}, got ${typeof K} ${K}`)}function lt(K){return K===ee?K:Tt(K,i)}const Q=new Map;function Bt(K){if(!(K instanceof X))throw new Error("ExtendedPoint expected")}class X{constructor(k,Y,z,H){if(this.ex=k,this.ey=Y,this.ez=z,this.et=H,!ft(k))throw new Error("x required");if(!ft(Y))throw new Error("y required");if(!ft(z))throw new Error("z required");if(!ft(H))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof X)throw new Error("extended point not allowed");const{x:Y,y:z}=k||{};if(!ft(Y)||!ft(z))throw new Error("invalid affine point");return new X(Y,z,Vt,F(Y*z))}static normalizeZ(k){const Y=r.invertBatch(k.map(z=>z.ez));return k.map((z,H)=>z.toAffine(Y[H])).map(X.fromAffine)}_setWindowSize(k){this._WINDOW_SIZE=k,Q.delete(this)}assertValidity(){const{a:k,d:Y}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:z,ey:H,ez:ht,et:d}=this,wt=F(z*z),pt=F(H*H),bt=F(ht*ht),W=F(bt*bt),V=F(wt*k),w=F(bt*F(V+pt)),m=F(W+F(Y*F(wt*pt)));if(w!==m)throw new Error("bad point: equation left != right (1)");const _=F(z*H),N=F(ht*d);if(_!==N)throw new Error("bad point: equation left != right (2)")}equals(k){Bt(k);const{ex:Y,ey:z,ez:H}=this,{ex:ht,ey:d,ez:wt}=k,pt=F(Y*wt),bt=F(ht*H),W=F(z*wt),V=F(d*H);return pt===bt&&W===V}is0(){return this.equals(X.ZERO)}negate(){return new X(F(-this.ex),this.ey,this.ez,F(-this.et))}double(){const{a:k}=t,{ex:Y,ey:z,ez:H}=this,ht=F(Y*Y),d=F(z*z),wt=F(gr*F(H*H)),pt=F(k*ht),bt=Y+z,W=F(F(bt*bt)-ht-d),V=pt+d,w=V-wt,m=pt-d,_=F(W*w),N=F(V*m),S=F(W*m),U=F(w*V);return new X(_,N,U,S)}add(k){Bt(k);const{a:Y,d:z}=t,{ex:H,ey:ht,ez:d,et:wt}=this,{ex:pt,ey:bt,ez:W,et:V}=k;if(Y===BigInt(-1)){const v=F((ht-H)*(bt+pt)),D=F((ht+H)*(bt-pt)),q=F(D-v);if(q===ee)return this.double();const j=F(d*gr*V),ot=F(wt*gr*W),l=ot+j,o=D+v,a=ot-j,x=F(l*q),T=F(o*a),L=F(l*a),R=F(q*o);return new X(x,T,R,L)}const w=F(H*pt),m=F(ht*bt),_=F(wt*z*V),N=F(d*W),S=F((H+ht)*(pt+bt)-w-m),U=N-_,f=N+_,n=F(m-Y*w),s=F(S*U),h=F(f*n),g=F(S*n),b=F(U*f);return new X(s,h,b,g)}subtract(k){return this.add(k.negate())}wNAF(k){return ut.wNAFCached(this,Q,k,X.normalizeZ)}multiply(k){const{p:Y,f:z}=this.wNAF(Tt(k,i));return X.normalizeZ([Y,z])[0]}multiplyUnsafe(k){let Y=lt(k);return Y===ee?Z:this.equals(Z)||Y===Vt?this:this.equals(J)?this.wNAF(Y).p:ut.unsafeLadder(this,Y)}isSmallOrder(){return this.multiplyUnsafe(E).is0()}isTorsionFree(){return ut.unsafeLadder(this,i).is0()}toAffine(k){const{ex:Y,ey:z,ez:H}=this,ht=this.is0();k==null&&(k=ht?Bu:r.inv(H));const d=F(Y*k),wt=F(z*k),pt=F(H*k);if(ht)return{x:ee,y:Vt};if(pt!==Vt)throw new Error("invZ was invalid");return{x:d,y:wt}}clearCofactor(){const{h:k}=t;return k===Vt?this:this.multiplyUnsafe(k)}static fromHex(k,Y=!1){const{d:z,a:H}=t,ht=r.BYTES;k=me("pointHex",k,ht);const d=k.slice(),wt=k[ht-1];d[ht-1]=wt&-129;const pt=Er(d);pt===ee||(Y?Tt(pt,I):Tt(pt,r.ORDER));const bt=F(pt*pt),W=F(bt-Vt),V=F(z*bt-H);let{isValid:w,value:m}=O(W,V);if(!w)throw new Error("Point.fromHex: invalid y coordinate");const _=(m&Vt)===Vt,N=(wt&128)!==0;if(!Y&&m===ee&&N)throw new Error("Point.fromHex: x=0 and x_0=1");return N!==_&&(m=F(-m)),X.fromAffine({x:m,y:pt})}static fromPrivateKey(k){return _t(k).point}toRawBytes(){const{x:k,y:Y}=this.toAffine(),z=En(Y,r.BYTES);return z[z.length-1]|=k&Vt?128:0,z}toHex(){return Wn(this.toRawBytes())}}X.BASE=new X(t.Gx,t.Gy,Vt,F(t.Gx*t.Gy)),X.ZERO=new X(ee,Vt,Vt,ee);const{BASE:J,ZERO:Z}=X,ut=eu(X,c*8);function gt(K){return kt(K,i)}function C(K){return gt(Er(K))}function _t(K){const k=c;K=me("private key",K,k);const Y=me("hashed private key",p(K),2*k),z=P(Y.slice(0,k)),H=Y.slice(k,2*k),ht=C(z),d=J.multiply(ht),wt=d.toRawBytes();return{head:z,prefix:H,scalar:ht,point:d,pointBytes:wt}}function mt(K){return _t(K).pointBytes}function dt(K=new Uint8Array,...k){const Y=yi(...k);return C(p(M(Y,me("context",K),!!u)))}function Ut(K,k,Y={}){K=me("message",K),u&&(K=u(K));const{prefix:z,scalar:H,pointBytes:ht}=_t(k),d=dt(Y.context,z,K),wt=J.multiply(d).toRawBytes(),pt=dt(Y.context,wt,ht,K),bt=gt(d+pt*H);lt(bt);const W=yi(wt,En(bt,r.BYTES));return me("result",W,c*2)}const St=Nu;function zt(K,k,Y,z=St){const{context:H,zip215:ht}=z,d=r.BYTES;K=me("signature",K,2*d),k=me("message",k),u&&(k=u(k));const wt=Er(K.slice(d,2*d));let pt,bt,W;try{pt=X.fromHex(Y,ht),bt=X.fromHex(K.slice(0,d),ht),W=J.multiplyUnsafe(wt)}catch{return!1}if(!ht&&pt.isSmallOrder())return!1;const V=dt(H,bt.toRawBytes(),pt.toRawBytes(),k);return bt.add(pt.multiplyUnsafe(V)).subtract(W).clearCofactor().equals(X.ZERO)}return J._setWindowSize(8),{CURVE:t,getPublicKey:mt,sign:Ut,verify:zt,ExtendedPoint:X,utils:{getExtendedPublicKey:_t,randomPrivateKey:()=>y(r.BYTES),precompute(K=8,k=X.BASE){return k._setWindowSize(K),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qn=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),_i=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Fu=BigInt(1),An=BigInt(2),vu=BigInt(5),bi=BigInt(10),Ru=BigInt(20),Lu=BigInt(40),Ai=BigInt(80);function Ou(e){const t=qn,i=e*e%t*e%t,u=ae(i,An,t)*i%t,p=ae(u,Fu,t)*e%t,y=ae(p,vu,t)*p%t,c=ae(y,bi,t)*y%t,E=ae(c,Ru,t)*c%t,I=ae(E,Lu,t)*E%t,F=ae(I,Ai,t)*I%t,O=ae(F,Ai,t)*I%t,P=ae(O,bi,t)*y%t;return{pow_p_5_8:ae(P,An,t)*e%t,b2:i}}function Du(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Mu(e,t){const r=qn,i=kt(t*t*t,r),u=kt(i*i*t,r),p=Ou(e*u).pow_p_5_8;let y=kt(e*i*p,r);const c=kt(t*y*y,r),E=y,I=kt(y*_i,r),F=c===e,O=c===kt(-e,r),P=c===kt(-e*_i,r);return F&&(y=E),(O||P)&&(y=I),qa(y,r)&&(y=kt(-y,r)),{isValid:F||O,value:y}}const he=Za(qn,void 0,!0),Vn={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:he,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ms,randomBytes:xo,adjustScalarBytes:Du,uvRatio:Mu},$e=Kn(Vn);function Cs(e,t,r){if(t.length>255)throw new Error("Context is too big");return yo(Vi("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}({...Vn});({...Vn});const Cu=(he.ORDER+BigInt(3))/BigInt(8);he.pow(An,Cu);he.sqrt(he.neg(he.ONE));(he.ORDER-BigInt(5))/BigInt(8);BigInt(486662);Qa(he,he.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Ii=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},Ti=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw new Error("Length too long (> 4 bytes)")},In=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},Pu=(e,t)=>{const r=In(e,t);if(r===1)return e[t];if(r===2)return e[t+1];if(r===3)return(e[t+1]<<8)+e[t+2];if(r===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const Si=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function ku(e,t){const r=2+Ii(e.byteLength+1),i=t.byteLength+r+e.byteLength;let u=0;const p=new Uint8Array(1+Ii(i)+i);return p[u++]=48,u+=Ti(p,u,i),p.set(t,u),u+=t.byteLength,p[u++]=3,u+=Ti(p,u,e.byteLength+1),p[u++]=0,p.set(new Uint8Array(e),u),p}const Hu=(e,t)=>{let r=0;const i=(c,E)=>{if(u[r++]!==c)throw new Error("Expected: "+E)},u=new Uint8Array(e);if(i(48,"sequence"),r+=In(u,r),!ps(u.slice(r,r+t.byteLength),t))throw new Error("Not the expected OID.");r+=t.byteLength,i(3,"bit string");const p=Pu(u,r)-1;r+=In(u,r),i(0,"0 padding");const y=u.slice(r);if(p!==y.length)throw new Error(`DER payload mismatch: Expected length ${p} actual length ${y.length}`);return y};var Bi;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(Bi||(Bi={}));var Ni;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(Ni||(Ni={}));var Nr=function(e,t,r,i,u){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!u:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?u.call(e,r):u?u.value=r:t.set(e,r),r},be=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},_r,br,De,Me;function Ui(e){return e!==null&&typeof e=="object"}class le{constructor(t){if(_r.set(this,void 0),br.set(this,void 0),t.byteLength!==le.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Nr(this,_r,t,"f"),Nr(this,br,le.derEncode(t),"f")}static from(t){if(typeof t=="string"){const r=Be(t);return this.fromRaw(r)}else if(Ui(t)){const r=t;if(Ui(r)&&Object.hasOwnProperty.call(r,"__derEncodedPublicKey__"))return this.fromDer(r);if(ArrayBuffer.isView(r)){const i=r;return this.fromRaw(ds(i.buffer))}else{if(r instanceof ArrayBuffer)return this.fromRaw(r);if("rawKey"in r)return this.fromRaw(r.rawKey);if("derKey"in r)return this.fromDer(r.derKey);if("toDer"in r)return this.fromDer(r.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new le(t)}static fromDer(t){return new le(this.derDecode(t))}static derEncode(t){const r=ku(t,Si).buffer;return r.__derEncodedPublicKey__=void 0,r}static derDecode(t){const r=Hu(t,Si);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return be(this,_r,"f")}get derKey(){return be(this,br,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}_r=new WeakMap,br=new WeakMap;le.RAW_KEY_LENGTH=32;class Te extends Pn{constructor(t,r){super(),De.set(this,void 0),Me.set(this,void 0),Nr(this,De,le.from(t),"f"),Nr(this,Me,new Uint8Array(r),"f")}static generate(t){if(t&&t.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");t||(t=$e.utils.randomPrivateKey()),ps(t,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const r=new Uint8Array(32);for(let u=0;u<32;u++)r[u]=new Uint8Array(t)[u];const i=$e.getPublicKey(r);return Te.fromKeyPair(i,r)}static fromParsedJson(t){const[r,i]=t;return new Te(le.fromDer(Be(r)),Be(i))}static fromJSON(t){const r=JSON.parse(t);if(Array.isArray(r)){if(typeof r[0]=="string"&&typeof r[1]=="string")return this.fromParsedJson([r[0],r[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(t)}`)}static fromKeyPair(t,r){return new Te(le.fromRaw(t),r)}static fromSecretKey(t){const r=$e.getPublicKey(new Uint8Array(t));return Te.fromKeyPair(r,t)}toJSON(){return[Ce(be(this,De,"f").toDer()),Ce(be(this,Me,"f"))]}getKeyPair(){return{secretKey:be(this,Me,"f"),publicKey:be(this,De,"f")}}getPublicKey(){return be(this,De,"f")}async sign(t){const r=new Uint8Array(t),i=Ve($e.sign(r,be(this,Me,"f").slice(0,32)));return Object.defineProperty(i,"__signature__",{enumerable:!1,value:void 0}),i}static verify(t,r,i){const[u,p,y]=[t,r,i].map(c=>(typeof c=="string"&&(c=Be(c)),c instanceof Uint8Array&&(c=c.buffer),new Uint8Array(c)));return $e.verify(p,u,y)}}De=new WeakMap,Me=new WeakMap;class jn extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,jn.prototype)}}function Fi(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new jn("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class Ur extends Pn{constructor(t,r,i){super(),this._keyPair=t,this._derKey=r,this._subtleCrypto=i}static async generate(t){const{extractable:r=!1,keyUsages:i=["sign","verify"],subtleCrypto:u}=t??{},p=Fi(u),y=await p.generateKey({name:"ECDSA",namedCurve:"P-256"},r,i),c=await p.exportKey("spki",y.publicKey);return new this(y,c,p)}static async fromKeyPair(t,r){const i=Fi(r),u=await i.exportKey("spki",t.publicKey);return new Ur(t,u,i)}getKeyPair(){return this._keyPair}getPublicKey(){const t=this._derKey,r=Object.create(this._keyPair.publicKey);return r.toDer=function(){return t},r}async sign(t){const r={name:"ECDSA",hash:{name:"SHA-256"}};return this._keyPair.privateKey,await this._subtleCrypto.sign(r,this._keyPair.privateKey,t)}}var Gu=function(e,t,r,i,u){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!u:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?u.call(e,r):u?u.value=r:t.set(e,r),r},ze=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},_e;class $u{constructor(t){_e.set(this,void 0),Gu(this,_e,t,"f")}get rawKey(){return ze(this,_e,"f").rawKey}get derKey(){return ze(this,_e,"f").derKey}toDer(){return ze(this,_e,"f").toDer()}getPublicKey(){return ze(this,_e,"f")}getPrincipal(){return Se.from(ze(this,_e,"f").rawKey)}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}_e=new WeakMap;var zu=function(e,t,r,i,u){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!u:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?u.call(e,r):u?u.value=r:t.set(e,r),r},Wu=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},Yu=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(r[i[u]]=e[i[u]]);return r},Ar;const Ku=new TextEncoder().encode("ic-request-auth-delegation"),qu=new TextEncoder().encode(`
ic-request`);function Qr(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return Be(e)}class Xn{constructor(t,r,i){this.pubkey=t,this.expiration=r,this.targets=i}toCBOR(){return jt.value.map(Object.assign({pubkey:jt.value.bytes(this.pubkey),expiration:jt.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:jt.value.array(this.targets.map(t=>jt.value.bytes(t.toUint8Array())))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:Ce(this.pubkey)},this.targets&&{targets:this.targets.map(t=>t.toHex())})}}async function Vu(e,t,r,i){const u=new Xn(t.toDer(),BigInt(+r)*BigInt(1e6),i),p=new Uint8Array([...Ku,...new Uint8Array(Cn(u))]),y=await e.sign(p);return{delegation:u,signature:y}}class Fr{constructor(t,r){this.delegations=t,this.publicKey=r}static async create(t,r,i=new Date(Date.now()+15*60*1e3),u={}){var p,y;const c=await Vu(t,r,i,u.targets);return new Fr([...((p=u.previous)===null||p===void 0?void 0:p.delegations)||[],c],((y=u.previous)===null||y===void 0?void 0:y.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){const{publicKey:r,delegations:i}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(i))throw new Error("Invalid delegations.");const u=i.map(p=>{const{delegation:y,signature:c}=p,{pubkey:E,expiration:I,targets:F}=y;if(F!==void 0&&!Array.isArray(F))throw new Error("Invalid targets.");return{delegation:new Xn(Qr(E),BigInt("0x"+I),F&&F.map(O=>{if(typeof O!="string")throw new Error("Invalid target.");return Se.fromHex(O)})),signature:Qr(c)}});return new this(u,Qr(r))}static fromDelegations(t,r){return new this(t,r)}toJSON(){return{delegations:this.delegations.map(t=>{const{delegation:r,signature:i}=t,{targets:u}=r;return{delegation:Object.assign({expiration:r.expiration.toString(16),pubkey:Ce(r.pubkey)},u&&{targets:u.map(p=>p.toHex())}),signature:Ce(i)}}),publicKey:Ce(this.publicKey)}}}class vi extends Pn{constructor(t,r){super(),this._inner=t,this._delegation=r}static fromDelegation(t,r){return new this(t,r)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(t){return this._inner.sign(t)}async transformRequest(t){const{body:r}=t,i=Yu(t,["body"]),u=await Cn(r);return Object.assign(Object.assign({},i),{body:{content:r,sender_sig:await this.sign(new Uint8Array([...qu,...new Uint8Array(u)])),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class vr extends $u{constructor(t,r){super(t),Ar.set(this,void 0),zu(this,Ar,r,"f")}get delegation(){return Wu(this,Ar,"f")}static fromDelegation(t,r){return new vr(t,r)}}Ar=new WeakMap;function ju(e,t){for(const{delegation:i}of e.delegations)if(+new Date(Number(i.expiration/BigInt(1e6)))<=+Date.now())return!1;const r=[];for(const i of r){const u=i.toText();for(const{delegation:p}of e.delegations){if(p.targets===void 0)continue;let y=!0;for(const c of p.targets)if(c.toText()===u){y=!1;break}if(y)return!1}}return!0}var Ri;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(Ri||(Ri={}));const Li=["mousedown","mousemove","keydown","touchstart","wheel"];class Oi{constructor(t={}){var r;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:i,idleTimeout:u=10*60*1e3}=t||{};this.callbacks=i?[i]:[],this.idleTimeout=u;const p=this._resetTimer.bind(this);window.addEventListener("load",p,!0),Li.forEach(function(c){document.addEventListener(c,p,!0)});const y=(c,E)=>{let I;return(...F)=>{const O=this,P=function(){I=void 0,c.apply(O,F)};clearTimeout(I),I=window.setTimeout(P,E)}};if(t?.captureScroll){const c=y(p,(r=t?.scrollDebounce)!==null&&r!==void 0?r:100);window.addEventListener("scroll",c,!0)}p()}static create(t={}){return new this(t)}registerCallback(t){this.callbacks.push(t)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const t=this._resetTimer.bind(this);Li.forEach(function(r){document.removeEventListener(r,t,!0)}),this.callbacks.forEach(r=>r())}_resetTimer(){const t=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(t,this.idleTimeout)}}const Xu=(e,t)=>t.some(r=>e instanceof r);let Di,Mi;function Ju(){return Di||(Di=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zu(){return Mi||(Mi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ps=new WeakMap,Tn=new WeakMap,ks=new WeakMap,tn=new WeakMap,Jn=new WeakMap;function Qu(e){const t=new Promise((r,i)=>{const u=()=>{e.removeEventListener("success",p),e.removeEventListener("error",y)},p=()=>{r(Ne(e.result)),u()},y=()=>{i(e.error),u()};e.addEventListener("success",p),e.addEventListener("error",y)});return t.then(r=>{r instanceof IDBCursor&&Ps.set(r,e)}).catch(()=>{}),Jn.set(t,e),t}function tc(e){if(Tn.has(e))return;const t=new Promise((r,i)=>{const u=()=>{e.removeEventListener("complete",p),e.removeEventListener("error",y),e.removeEventListener("abort",y)},p=()=>{r(),u()},y=()=>{i(e.error||new DOMException("AbortError","AbortError")),u()};e.addEventListener("complete",p),e.addEventListener("error",y),e.addEventListener("abort",y)});Tn.set(e,t)}let Sn={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Tn.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ks.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ne(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ec(e){Sn=e(Sn)}function rc(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const i=e.call(en(this),t,...r);return ks.set(i,t.sort?t.sort():[t]),Ne(i)}:Zu().includes(e)?function(...t){return e.apply(en(this),t),Ne(Ps.get(this))}:function(...t){return Ne(e.apply(en(this),t))}}function nc(e){return typeof e=="function"?rc(e):(e instanceof IDBTransaction&&tc(e),Xu(e,Ju())?new Proxy(e,Sn):e)}function Ne(e){if(e instanceof IDBRequest)return Qu(e);if(tn.has(e))return tn.get(e);const t=nc(e);return t!==e&&(tn.set(e,t),Jn.set(t,e)),t}const en=e=>Jn.get(e);function ic(e,t,{blocked:r,upgrade:i,blocking:u,terminated:p}={}){const y=indexedDB.open(e,t),c=Ne(y);return i&&y.addEventListener("upgradeneeded",E=>{i(Ne(y.result),E.oldVersion,E.newVersion,Ne(y.transaction),E)}),r&&y.addEventListener("blocked",E=>r(E.oldVersion,E.newVersion,E)),c.then(E=>{p&&E.addEventListener("close",()=>p()),u&&E.addEventListener("versionchange",I=>u(I.oldVersion,I.newVersion,I))}).catch(()=>{}),c}const sc=["get","getKey","getAll","getAllKeys","count"],oc=["put","add","delete","clear"],rn=new Map;function Ci(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rn.get(t))return rn.get(t);const r=t.replace(/FromIndex$/,""),i=t!==r,u=oc.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(u||sc.includes(r)))return;const p=async function(y,...c){const E=this.transaction(y,u?"readwrite":"readonly");let I=E.store;return i&&(I=I.index(c.shift())),(await Promise.all([I[r](...c),u&&E.done]))[0]};return rn.set(t,p),p}ec(e=>({...e,get:(t,r,i)=>Ci(t,r)||e.get(t,r,i),has:(t,r)=>!!Ci(t,r)||e.has(t,r)}));const Hs="auth-client-db",Gs="ic-keyval",ac=async(e=Hs,t=Gs,r)=>($s&&(localStorage!=null&&localStorage.getItem(Ie))&&(localStorage.removeItem(Ie),localStorage.removeItem(Ae)),await ic(e,r,{upgrade:i=>{i.objectStoreNames,i.objectStoreNames.contains(t)&&i.clear(t),i.createObjectStore(t)}}));async function uc(e,t,r){return await e.get(t,r)}async function cc(e,t,r,i){return await e.put(t,i,r)}async function fc(e,t,r){return await e.delete(t,r)}class Zn{constructor(t,r){this._db=t,this._storeName=r}static async create(t){const{dbName:r=Hs,storeName:i=Gs,version:u=dc}=t??{},p=await ac(r,i,u);return new Zn(p,i)}async set(t,r){return await cc(this._db,this._storeName,t,r)}async get(t){var r;return(r=await uc(this._db,this._storeName,t))!==null&&r!==void 0?r:null}async remove(t){return await fc(this._db,this._storeName,t)}}var lc=function(e,t,r,i,u){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!u:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?u.call(e,r):u?u.value=r:t.set(e,r),r},hc=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},Ir;const Ae="identity",Ie="delegation",pc="iv",dc=1,$s=typeof window<"u";class gc{constructor(t="ic-",r){this.prefix=t,this._localStorage=r}get(t){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+t))}set(t,r){return this._getLocalStorage().setItem(this.prefix+t,r),Promise.resolve()}remove(t){return this._getLocalStorage().removeItem(this.prefix+t),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!t)throw new Error("Could not find local storage.");return t}}class wc{constructor(t){Ir.set(this,void 0),lc(this,Ir,t??{},"f")}get _db(){return new Promise(t=>{if(this.initializedDb){t(this.initializedDb);return}Zn.create(hc(this,Ir,"f")).then(r=>{this.initializedDb=r,t(r)})})}async get(t){return await(await this._db).get(t)}async set(t,r){await(await this._db).set(t,r)}async remove(t){await(await this._db).remove(t)}}Ir=new WeakMap;const yc="https://identity.ic0.app",mc="#authorize",nn="ECDSA",sn="Ed25519",xc=500,Ec="UserInterrupt";class qc{constructor(t,r,i,u,p,y,c,E){this._identity=t,this._key=r,this._chain=i,this._storage=u,this.idleManager=p,this._createOptions=y,this._idpWindow=c,this._eventHandler=E,this._registerDefaultIdleCallback()}static async create(t={}){var r,i,u;const p=(r=t.storage)!==null&&r!==void 0?r:new wc,y=(i=t.keyType)!==null&&i!==void 0?i:nn;let c=null;if(t.identity)c=t.identity;else{let O=await p.get(Ae);if(!O&&$s)try{const P=new gc,M=await P.get(Ie),rt=await P.get(Ae);M&&rt&&y===nn&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await p.set(Ie,M),await p.set(Ae,rt),O=M,await P.remove(Ie),await P.remove(Ae))}catch(P){console.error("error while attempting to recover localstorage: "+P)}if(O)try{typeof O=="object"?y===sn&&typeof O=="string"?c=await Te.fromJSON(O):c=await Ur.fromKeyPair(O):typeof O=="string"&&(c=Te.fromJSON(O))}catch{}}let E=new pi,I=null;if(c)try{const O=await p.get(Ie);if(typeof O=="object"&&O!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");t.identity?E=t.identity:O&&(I=Fr.fromJSON(O),ju(I)?"toDer"in c?E=vr.fromDelegation(c,I):E=vi.fromDelegation(c,I):(await on(p),c=null))}catch(O){console.error(O),await on(p),c=null}let F;return!((u=t.idleOptions)===null||u===void 0)&&u.disableIdle?F=void 0:(I||t.identity)&&(F=Oi.create(t.idleOptions)),c||(y===sn?(c=await Te.generate(),await p.set(Ae,JSON.stringify(c.toJSON()))):(t.storage&&y===nn&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${sn}' as the key type, as it can serialize to a string`),c=await Ur.generate(),await p.set(Ae,c.getKeyPair()))),new this(E,c,I,p,F,t)}_registerDefaultIdleCallback(){var t,r;const i=(t=this._createOptions)===null||t===void 0?void 0:t.idleOptions;!i?.onIdle&&!i?.disableDefaultIdleCallback&&((r=this.idleManager)===null||r===void 0||r.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(t,r){var i,u;const p=t.delegations.map(I=>({delegation:new Xn(I.delegation.pubkey,I.delegation.expiration,I.delegation.targets),signature:I.signature.buffer})),y=Fr.fromDelegations(p,t.userPublicKey.buffer),c=this._key;if(!c)return;this._chain=y,"toDer"in c?this._identity=vr.fromDelegation(c,this._chain):this._identity=vi.fromDelegation(c,this._chain),(i=this._idpWindow)===null||i===void 0||i.close();const E=(u=this._createOptions)===null||u===void 0?void 0:u.idleOptions;!this.idleManager&&!E?.disableIdle&&(this.idleManager=Oi.create(E),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(Ie,JSON.stringify(this._chain.toJSON())),r?.(t)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(t){var r,i,u,p;const y=BigInt(8)*BigInt(36e11),c=new URL(((r=t?.identityProvider)===null||r===void 0?void 0:r.toString())||yc);c.hash=mc,(i=this._idpWindow)===null||i===void 0||i.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(c,Object.assign({maxTimeToLive:(u=t?.maxTimeToLive)!==null&&u!==void 0?u:y},t)),window.addEventListener("message",this._eventHandler),this._idpWindow=(p=window.open(c.toString(),"idpWindow",t?.windowOpenerFeatures))!==null&&p!==void 0?p:void 0;const E=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(Ec,t?.onError):setTimeout(E,xc))};E()}_getEventHandler(t,r){return async i=>{var u,p,y;if(i.origin!==t.origin){console.warn(`WARNING: expected origin '${t.origin}', got '${i.origin}' (ignoring)`);return}const c=i.data;switch(c.kind){case"authorize-ready":{const E=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((u=this._key)===null||u===void 0?void 0:u.getPublicKey().toDer()),maxTimeToLive:r?.maxTimeToLive,allowPinAuthentication:r?.allowPinAuthentication,derivationOrigin:(p=r?.derivationOrigin)===null||p===void 0?void 0:p.toString()},r?.customValues);(y=this._idpWindow)===null||y===void 0||y.postMessage(E,t.origin);break}case"authorize-client-success":try{await this._handleSuccess(c,r?.onSuccess)}catch(E){this._handleFailure(E.message,r?.onError)}break;case"authorize-client-failure":this._handleFailure(c.text,r?.onError);break}}}_handleFailure(t,r){var i;(i=this._idpWindow)===null||i===void 0||i.close(),r?.(t),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(t={}){if(await on(this._storage),this._identity=new pi,this._chain=null,t.returnTo)try{window.history.pushState({},"",t.returnTo)}catch{window.location.href=t.returnTo}}}async function on(e){await e.remove(Ae),await e.remove(Ie),await e.remove(pc)}var _c=(e=>(e[e.FractionalMoreThan8Decimals=0]="FractionalMoreThan8Decimals",e[e.InvalidFormat=1]="InvalidFormat",e[e.FractionalTooManyDecimals=2]="FractionalTooManyDecimals",e))(_c||{});BigInt(1e8);var bc=e=>e==null,Vc=e=>!bc(e),Pi="abcdefghijklmnopqrstuvwxyz234567",Xe=Object.create(null);for(let e=0;e<Pi.length;e++)Xe[Pi[e]]=e;Xe[0]=Xe.o;Xe[1]=Xe.i;/*! @license DOMPurify 3.1.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.5/LICENSE */const{entries:zs,setPrototypeOf:ki,isFrozen:Ac,getPrototypeOf:Ic,getOwnPropertyDescriptor:Tc}=Object;let{freeze:qt,seal:Zt,create:Ws}=Object,{apply:Bn,construct:Nn}=typeof Reflect<"u"&&Reflect;qt||(qt=function(t){return t});Zt||(Zt=function(t){return t});Bn||(Bn=function(t,r,i){return t.apply(r,i)});Nn||(Nn=function(t,r){return new t(...r)});const wr=Xt(Array.prototype.forEach),Hi=Xt(Array.prototype.pop),We=Xt(Array.prototype.push),Tr=Xt(String.prototype.toLowerCase),an=Xt(String.prototype.toString),Gi=Xt(String.prototype.match),Ye=Xt(String.prototype.replace),Sc=Xt(String.prototype.indexOf),Bc=Xt(String.prototype.trim),ne=Xt(Object.prototype.hasOwnProperty),Kt=Xt(RegExp.prototype.test),Ke=Nc(TypeError);function Xt(e){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return Bn(e,t,i)}}function Nc(e){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Nn(e,r)}}function At(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tr;ki&&ki(e,null);let i=t.length;for(;i--;){let u=t[i];if(typeof u=="string"){const p=r(u);p!==u&&(Ac(t)||(t[i]=p),u=p)}e[u]=!0}return e}function Uc(e){for(let t=0;t<e.length;t++)ne(e,t)||(e[t]=null);return e}function Ue(e){const t=Ws(null);for(const[r,i]of zs(e))ne(e,r)&&(Array.isArray(i)?t[r]=Uc(i):i&&typeof i=="object"&&i.constructor===Object?t[r]=Ue(i):t[r]=i);return t}function yr(e,t){for(;e!==null;){const i=Tc(e,t);if(i){if(i.get)return Xt(i.get);if(typeof i.value=="function")return Xt(i.value)}e=Ic(e)}function r(){return null}return r}const $i=qt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),un=qt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),cn=qt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Fc=qt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),fn=qt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),vc=qt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),zi=qt(["#text"]),Wi=qt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ln=qt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Yi=qt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),mr=qt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Rc=Zt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Lc=Zt(/<%[\w\W]*|[\w\W]*%>/gm),Oc=Zt(/\${[\w\W]*}/gm),Dc=Zt(/^data-[\-\w.\u00B7-\uFFFF]/),Mc=Zt(/^aria-[\-\w]+$/),Ys=Zt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Cc=Zt(/^(?:\w+script|data):/i),Pc=Zt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ks=Zt(/^html$/i),kc=Zt(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ki=Object.freeze({__proto__:null,MUSTACHE_EXPR:Rc,ERB_EXPR:Lc,TMPLIT_EXPR:Oc,DATA_ATTR:Dc,ARIA_ATTR:Mc,IS_ALLOWED_URI:Ys,IS_SCRIPT_OR_DATA:Cc,ATTR_WHITESPACE:Pc,DOCTYPE_NAME:Ks,CUSTOM_ELEMENT:kc});const qe={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Hc=function(){return typeof window>"u"?null:window},Gc=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const u="data-tt-policy-suffix";r&&r.hasAttribute(u)&&(i=r.getAttribute(u));const p="dompurify"+(i?"#"+i:"");try{return t.createPolicy(p,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+p+" could not be created."),null}};function qs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Hc();const t=tt=>qs(tt);if(t.version="3.1.5",t.removed=[],!e||!e.document||e.document.nodeType!==qe.document)return t.isSupported=!1,t;let{document:r}=e;const i=r,u=i.currentScript,{DocumentFragment:p,HTMLTemplateElement:y,Node:c,Element:E,NodeFilter:I,NamedNodeMap:F=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:O,DOMParser:P,trustedTypes:M}=e,rt=E.prototype,et=yr(rt,"cloneNode"),ft=yr(rt,"nextSibling"),Tt=yr(rt,"childNodes"),lt=yr(rt,"parentNode");if(typeof y=="function"){const tt=r.createElement("template");tt.content&&tt.content.ownerDocument&&(r=tt.content.ownerDocument)}let Q,Bt="";const{implementation:X,createNodeIterator:J,createDocumentFragment:Z,getElementsByTagName:ut}=r,{importNode:gt}=i;let C={};t.isSupported=typeof zs=="function"&&typeof lt=="function"&&X&&X.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:_t,ERB_EXPR:mt,TMPLIT_EXPR:dt,DATA_ATTR:Ut,ARIA_ATTR:St,IS_SCRIPT_OR_DATA:zt,ATTR_WHITESPACE:Ot,CUSTOM_ELEMENT:K}=Ki;let{IS_ALLOWED_URI:k}=Ki,Y=null;const z=At({},[...$i,...un,...cn,...fn,...zi]);let H=null;const ht=At({},[...Wi,...ln,...Yi,...mr]);let d=Object.seal(Ws(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),wt=null,pt=null,bt=!0,W=!0,V=!1,w=!0,m=!1,_=!0,N=!1,S=!1,U=!1,f=!1,n=!1,s=!1,h=!0,g=!1;const b="user-content-";let v=!0,D=!1,q={},j=null;const ot=At({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let l=null;const o=At({},["audio","video","img","source","image","track"]);let a=null;const x=At({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),T="http://www.w3.org/1998/Math/MathML",L="http://www.w3.org/2000/svg",R="http://www.w3.org/1999/xhtml";let nt=R,xt=!1,at=null;const st=At({},[T,L,R],an);let It=null;const Lt=["application/xhtml+xml","text/html"],Pr="text/html";let Ct=null,de=null;const kr=r.createElement("form"),rr=function(B){return B instanceof RegExp||B instanceof Function},se=function(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(de&&de===B)){if((!B||typeof B!="object")&&(B={}),B=Ue(B),It=Lt.indexOf(B.PARSER_MEDIA_TYPE)===-1?Pr:B.PARSER_MEDIA_TYPE,Ct=It==="application/xhtml+xml"?an:Tr,Y=ne(B,"ALLOWED_TAGS")?At({},B.ALLOWED_TAGS,Ct):z,H=ne(B,"ALLOWED_ATTR")?At({},B.ALLOWED_ATTR,Ct):ht,at=ne(B,"ALLOWED_NAMESPACES")?At({},B.ALLOWED_NAMESPACES,an):st,a=ne(B,"ADD_URI_SAFE_ATTR")?At(Ue(x),B.ADD_URI_SAFE_ATTR,Ct):x,l=ne(B,"ADD_DATA_URI_TAGS")?At(Ue(o),B.ADD_DATA_URI_TAGS,Ct):o,j=ne(B,"FORBID_CONTENTS")?At({},B.FORBID_CONTENTS,Ct):ot,wt=ne(B,"FORBID_TAGS")?At({},B.FORBID_TAGS,Ct):{},pt=ne(B,"FORBID_ATTR")?At({},B.FORBID_ATTR,Ct):{},q=ne(B,"USE_PROFILES")?B.USE_PROFILES:!1,bt=B.ALLOW_ARIA_ATTR!==!1,W=B.ALLOW_DATA_ATTR!==!1,V=B.ALLOW_UNKNOWN_PROTOCOLS||!1,w=B.ALLOW_SELF_CLOSE_IN_ATTR!==!1,m=B.SAFE_FOR_TEMPLATES||!1,_=B.SAFE_FOR_XML!==!1,N=B.WHOLE_DOCUMENT||!1,f=B.RETURN_DOM||!1,n=B.RETURN_DOM_FRAGMENT||!1,s=B.RETURN_TRUSTED_TYPE||!1,U=B.FORCE_BODY||!1,h=B.SANITIZE_DOM!==!1,g=B.SANITIZE_NAMED_PROPS||!1,v=B.KEEP_CONTENT!==!1,D=B.IN_PLACE||!1,k=B.ALLOWED_URI_REGEXP||Ys,nt=B.NAMESPACE||R,d=B.CUSTOM_ELEMENT_HANDLING||{},B.CUSTOM_ELEMENT_HANDLING&&rr(B.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(d.tagNameCheck=B.CUSTOM_ELEMENT_HANDLING.tagNameCheck),B.CUSTOM_ELEMENT_HANDLING&&rr(B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(d.attributeNameCheck=B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),B.CUSTOM_ELEMENT_HANDLING&&typeof B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(d.allowCustomizedBuiltInElements=B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),m&&(W=!1),n&&(f=!0),q&&(Y=At({},zi),H=[],q.html===!0&&(At(Y,$i),At(H,Wi)),q.svg===!0&&(At(Y,un),At(H,ln),At(H,mr)),q.svgFilters===!0&&(At(Y,cn),At(H,ln),At(H,mr)),q.mathMl===!0&&(At(Y,fn),At(H,Yi),At(H,mr))),B.ADD_TAGS&&(Y===z&&(Y=Ue(Y)),At(Y,B.ADD_TAGS,Ct)),B.ADD_ATTR&&(H===ht&&(H=Ue(H)),At(H,B.ADD_ATTR,Ct)),B.ADD_URI_SAFE_ATTR&&At(a,B.ADD_URI_SAFE_ATTR,Ct),B.FORBID_CONTENTS&&(j===ot&&(j=Ue(j)),At(j,B.FORBID_CONTENTS,Ct)),v&&(Y["#text"]=!0),N&&At(Y,["html","head","body"]),Y.table&&(At(Y,["tbody"]),delete wt.tbody),B.TRUSTED_TYPES_POLICY){if(typeof B.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ke('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof B.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ke('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Q=B.TRUSTED_TYPES_POLICY,Bt=Q.createHTML("")}else Q===void 0&&(Q=Gc(M,u)),Q!==null&&typeof Bt=="string"&&(Bt=Q.createHTML(""));qt&&qt(B),de=B}},Hr=At({},["mi","mo","mn","ms","mtext"]),Gr=At({},["foreignobject","annotation-xml"]),Qn=At({},["title","style","font","a","script"]),$r=At({},[...un,...cn,...Fc]),Dt=At({},[...fn,...vc]),ti=function(B){let G=lt(B);(!G||!G.tagName)&&(G={namespaceURI:nt,tagName:"template"});const $=Tr(B.tagName),Ft=Tr(G.tagName);return at[B.namespaceURI]?B.namespaceURI===L?G.namespaceURI===R?$==="svg":G.namespaceURI===T?$==="svg"&&(Ft==="annotation-xml"||Hr[Ft]):!!$r[$]:B.namespaceURI===T?G.namespaceURI===R?$==="math":G.namespaceURI===L?$==="math"&&Gr[Ft]:!!Dt[$]:B.namespaceURI===R?G.namespaceURI===L&&!Gr[Ft]||G.namespaceURI===T&&!Hr[Ft]?!1:!Dt[$]&&(Qn[$]||!$r[$]):!!(It==="application/xhtml+xml"&&at[B.namespaceURI]):!1},Qt=function(B){We(t.removed,{element:B});try{B.parentNode.removeChild(B)}catch{B.remove()}},Ge=function(B,G){try{We(t.removed,{attribute:G.getAttributeNode(B),from:G})}catch{We(t.removed,{attribute:null,from:G})}if(G.removeAttribute(B),B==="is"&&!H[B])if(f||n)try{Qt(G)}catch{}else try{G.setAttribute(B,"")}catch{}},nr=function(B){let G=null,$=null;if(U)B="<remove></remove>"+B;else{const A=Gi(B,/^[\r\n\t ]+/);$=A&&A[0]}It==="application/xhtml+xml"&&nt===R&&(B='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+B+"</body></html>");const Ft=Q?Q.createHTML(B):B;if(nt===R)try{G=new P().parseFromString(Ft,It)}catch{}if(!G||!G.documentElement){G=X.createDocument(nt,"template",null);try{G.documentElement.innerHTML=xt?Bt:Ft}catch{}}const Gt=G.body||G.documentElement;return B&&$&&Gt.insertBefore(r.createTextNode($),Gt.childNodes[0]||null),nt===R?ut.call(G,N?"html":"body")[0]:N?G.documentElement:Gt},ir=function(B){return J.call(B.ownerDocument||B,B,I.SHOW_ELEMENT|I.SHOW_COMMENT|I.SHOW_TEXT|I.SHOW_PROCESSING_INSTRUCTION|I.SHOW_CDATA_SECTION,null)},sr=function(B){return B instanceof O&&(typeof B.nodeName!="string"||typeof B.textContent!="string"||typeof B.removeChild!="function"||!(B.attributes instanceof F)||typeof B.removeAttribute!="function"||typeof B.setAttribute!="function"||typeof B.namespaceURI!="string"||typeof B.insertBefore!="function"||typeof B.hasChildNodes!="function")},or=function(B){return typeof c=="function"&&B instanceof c},Nt=function(B,G,$){C[B]&&wr(C[B],Ft=>{Ft.call(t,G,$,de)})},ar=function(B){let G=null;if(Nt("beforeSanitizeElements",B,null),sr(B))return Qt(B),!0;const $=Ct(B.nodeName);if(Nt("uponSanitizeElement",B,{tagName:$,allowedTags:Y}),B.hasChildNodes()&&!or(B.firstElementChild)&&Kt(/<[/\w]/g,B.innerHTML)&&Kt(/<[/\w]/g,B.textContent)||B.nodeType===qe.progressingInstruction||_&&B.nodeType===qe.comment&&Kt(/<[/\w]/g,B.data))return Qt(B),!0;if(!Y[$]||wt[$]){if(!wt[$]&&cr($)&&(d.tagNameCheck instanceof RegExp&&Kt(d.tagNameCheck,$)||d.tagNameCheck instanceof Function&&d.tagNameCheck($)))return!1;if(v&&!j[$]){const Ft=lt(B)||B.parentNode,Gt=Tt(B)||B.childNodes;if(Gt&&Ft){const A=Gt.length;for(let it=A-1;it>=0;--it){const ct=et(Gt[it],!0);ct.__removalCount=(B.__removalCount||0)+1,Ft.insertBefore(ct,ft(B))}}}return Qt(B),!0}return B instanceof E&&!ti(B)||($==="noscript"||$==="noembed"||$==="noframes")&&Kt(/<\/no(script|embed|frames)/i,B.innerHTML)?(Qt(B),!0):(m&&B.nodeType===qe.text&&(G=B.textContent,wr([_t,mt,dt],Ft=>{G=Ye(G,Ft," ")}),B.textContent!==G&&(We(t.removed,{element:B.cloneNode()}),B.textContent=G)),Nt("afterSanitizeElements",B,null),!1)},ur=function(B,G,$){if(h&&(G==="id"||G==="name")&&($ in r||$ in kr))return!1;if(!(W&&!pt[G]&&Kt(Ut,G))){if(!(bt&&Kt(St,G))){if(!H[G]||pt[G]){if(!(cr(B)&&(d.tagNameCheck instanceof RegExp&&Kt(d.tagNameCheck,B)||d.tagNameCheck instanceof Function&&d.tagNameCheck(B))&&(d.attributeNameCheck instanceof RegExp&&Kt(d.attributeNameCheck,G)||d.attributeNameCheck instanceof Function&&d.attributeNameCheck(G))||G==="is"&&d.allowCustomizedBuiltInElements&&(d.tagNameCheck instanceof RegExp&&Kt(d.tagNameCheck,$)||d.tagNameCheck instanceof Function&&d.tagNameCheck($))))return!1}else if(!a[G]){if(!Kt(k,Ye($,Ot,""))){if(!((G==="src"||G==="xlink:href"||G==="href")&&B!=="script"&&Sc($,"data:")===0&&l[B])){if(!(V&&!Kt(zt,Ye($,Ot,"")))){if($)return!1}}}}}}return!0},cr=function(B){return B!=="annotation-xml"&&Gi(B,K)},fr=function(B){Nt("beforeSanitizeAttributes",B,null);const{attributes:G}=B;if(!G)return;const $={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H};let Ft=G.length;for(;Ft--;){const Gt=G[Ft],{name:A,namespaceURI:it,value:ct}=Gt,yt=Ct(A);let Pt=A==="value"?ct:Bc(ct);if($.attrName=yt,$.attrValue=Pt,$.keepAttr=!0,$.forceKeepAttr=void 0,Nt("uponSanitizeAttribute",B,$),Pt=$.attrValue,$.forceKeepAttr||(Ge(A,B),!$.keepAttr))continue;if(!w&&Kt(/\/>/i,Pt)){Ge(A,B);continue}if(_&&Kt(/((--!?|])>)|<\/(style|title)/i,Pt)){Ge(A,B);continue}m&&wr([_t,mt,dt],Wr=>{Pt=Ye(Pt,Wr," ")});const ge=Ct(B.nodeName);if(ur(ge,yt,Pt)){if(g&&(yt==="id"||yt==="name")&&(Ge(A,B),Pt=b+Pt),Q&&typeof M=="object"&&typeof M.getAttributeType=="function"&&!it)switch(M.getAttributeType(ge,yt)){case"TrustedHTML":{Pt=Q.createHTML(Pt);break}case"TrustedScriptURL":{Pt=Q.createScriptURL(Pt);break}}try{it?B.setAttributeNS(it,A,Pt):B.setAttribute(A,Pt),sr(B)?Qt(B):Hi(t.removed)}catch{}}}Nt("afterSanitizeAttributes",B,null)},zr=function tt(B){let G=null;const $=ir(B);for(Nt("beforeSanitizeShadowDOM",B,null);G=$.nextNode();)Nt("uponSanitizeShadowNode",G,null),!ar(G)&&(G.content instanceof p&&tt(G.content),fr(G));Nt("afterSanitizeShadowDOM",B,null)};return t.sanitize=function(tt){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=null,$=null,Ft=null,Gt=null;if(xt=!tt,xt&&(tt="<!-->"),typeof tt!="string"&&!or(tt))if(typeof tt.toString=="function"){if(tt=tt.toString(),typeof tt!="string")throw Ke("dirty is not a string, aborting")}else throw Ke("toString is not a function");if(!t.isSupported)return tt;if(S||se(B),t.removed=[],typeof tt=="string"&&(D=!1),D){if(tt.nodeName){const ct=Ct(tt.nodeName);if(!Y[ct]||wt[ct])throw Ke("root node is forbidden and cannot be sanitized in-place")}}else if(tt instanceof c)G=nr("<!---->"),$=G.ownerDocument.importNode(tt,!0),$.nodeType===qe.element&&$.nodeName==="BODY"||$.nodeName==="HTML"?G=$:G.appendChild($);else{if(!f&&!m&&!N&&tt.indexOf("<")===-1)return Q&&s?Q.createHTML(tt):tt;if(G=nr(tt),!G)return f?null:s?Bt:""}G&&U&&Qt(G.firstChild);const A=ir(D?tt:G);for(;Ft=A.nextNode();)ar(Ft)||(Ft.content instanceof p&&zr(Ft.content),fr(Ft));if(D)return tt;if(f){if(n)for(Gt=Z.call(G.ownerDocument);G.firstChild;)Gt.appendChild(G.firstChild);else Gt=G;return(H.shadowroot||H.shadowrootmode)&&(Gt=gt.call(i,Gt,!0)),Gt}let it=N?G.outerHTML:G.innerHTML;return N&&Y["!doctype"]&&G.ownerDocument&&G.ownerDocument.doctype&&G.ownerDocument.doctype.name&&Kt(Ks,G.ownerDocument.doctype.name)&&(it="<!DOCTYPE "+G.ownerDocument.doctype.name+`>
`+it),m&&wr([_t,mt,dt],ct=>{it=Ye(it,ct," ")}),Q&&s?Q.createHTML(it):it},t.setConfig=function(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};se(tt),S=!0},t.clearConfig=function(){de=null,S=!1},t.isValidAttribute=function(tt,B,G){de||se({});const $=Ct(tt),Ft=Ct(B);return ur($,Ft,G)},t.addHook=function(tt,B){typeof B=="function"&&(C[tt]=C[tt]||[],We(C[tt],B))},t.removeHook=function(tt){if(C[tt])return Hi(C[tt])},t.removeHooks=function(tt){C[tt]&&(C[tt]=[])},t.removeAllHooks=function(){C={}},t}qs();export{qc as A,bc as L,Vc as c,Wc as u};
